import{g as Fa,z as Ba,Y as Na,h as Da,a as Oa,i as ja,V as Wa,b as za,c as Ka,T as Xa,d as Ya,e as Ga,f as Ja,j as Ha}from"./bootstrap-vue-next.667fb585.js";import{_ as qa}from"./nuxt-link.851df10c.js";import{D as Za,bY as Qa,r,g as en,aT as tn,f as C,h as sn,c as _,b as n,j as s,w as p,a as t,x as y,d as f,F as ue,z as he,t as w,y as h,p as T,i as ro,o as m,k as v,m as we,l as E,n as I,v as A,bT as on,G as Pt,q as ln,E as an}from"./entry.5c5f6add.js";import{B as nn}from"./Breadcrumb.930ec479.js";import{_ as L}from"./ModalComponent.vue.58c1e7f2.js";import{_ as uo}from"./ToastComponent.vue.6c820df6.js";import{_ as rn}from"./CardHeader.vue.6f5a0807.js";import{_ as dn,i as un}from"./ConnectToClientModalContent.vue.8aa11e98.js";import{f as x}from"./fetch-wrapper.d0af2f5c.js";import{u as cn}from"./auth.store.db5a1ad4.js";import{s as mn,p as pn}from"./perPageStorer.7342e74b.js";import{I as co,P as mo,E as fn}from"./regexes.2f8688aa.js";import{p as vn}from"./userApiKeyExpiration.d1f07fab.js";import{s as qe}from"./vue-multiselect.esm.604847d6.js";/* empty css                        *//* empty css                    */import{_ as bn}from"./_plugin-vue_export-helper.c27b6911.js";import"./composables.671b84f7.js";const gn={class:"row"},yn={class:"col-md-6"},kn={class:"row"},hn={class:"col"},wn=["value"],_n={class:"row"},xn={class:"col"},Cn=["readonly"],Mn={class:"text-danger"},En=["disabled"],In={class:"row"},Ln={class:"col"},Rn={class:"form-label"},Sn={key:0,class:"text-danger d-block"},Vn={class:"row mt-2"},Tn={class:"col"},An={class:"row mt-2"},Pn={class:"col"},Un={class:"input-group"},$n={class:"ms-1"},Fn=["disabled"],Bn=["disabled"],Nn={class:"row"},Dn={class:"col"},On={class:"text-white"},jn=["onClick"],Wn=["disabled"],zn={class:"row"},Kn={class:"col"},Xn={class:"row mt-2"},Yn={class:"col-12"},Gn={class:"form-label"},Jn=["disabled"],Hn={class:"col-12 mt-2"},qn=["src"],Zn=["disabled"],Qn={class:"row"},ei={class:"col-md-3"},ti={class:"col-md-3"},si={class:"col-md-6"},oi=["disabled"],li={class:"d-flex"},ai=["action"],ni=["value"],ii=["value"],ri=["value"],di=["value"],ui={type:"submit",class:"btn btn-info btn-xs",title:"Download Robot Version"},ci={key:0,action:"",method:"post"},mi=["value"],pi=["value"],fi=["value"],vi=["value"],bi={class:"row mb-2"},gi={class:"col"},yi=["disabled"],ki={class:"row"},hi={class:"col"},wi=["disabled"],_i={class:"row"},xi={class:"col"},Ci={class:"input-group"},Mi=["disabled"],Ei={class:"row mt-2"},Ii={class:"col"},Li=["disabled"],Ri={class:"row"},Si={class:"col"},Vi=["value"],Ti={class:"row mt-2"},Ai={class:"col"},Pi=["disabled"],Ui={class:"row"},$i={class:"col text-center"},Fi={class:"m-0"},Bi={class:"row"},Ni={class:"col-12"},Di=["disabled"],Oi=["disabled"],ji={class:"col-12"},Wi={class:"text-center my-2"},zi={class:"text-break"},Ki={class:"btn-group"},Xi=["onClick"],Yi=["disabled","onClick"],Gi=["disabled"],Ji={class:"row"},Hi={class:"col"},qi={key:0,class:"text-danger d-block"},Zi=["disabled"],Qi={class:"row"},er={class:"col"},tr={class:"text-break text-center"},sr=["disabled"],or={key:0,class:"row"},lr={class:"col text-center"},ar={key:1,class:"row"},nr={class:"col"},ir={disabled:"",class:"line-break w-100 log",style:{"font-size":"20px"}},rr=["disabled"],dr=["disabled"],ur={key:0,class:"row"},cr={class:"col text-center"},mr={key:1,class:"row"},pr={key:2,class:"row justify-content-end"},fr={class:"col-md-auto"},vr={class:"form-group"},br=["value"],gr={class:"col-md-12"},yr={class:"table-responsive"},kr=["disabled","onClick"],hr=["disabled"],wr=["disabled"],_r={class:"row"},xr={class:"col"},Cr=["src"],Mr={key:1,class:"text-center"},Er=["href"],Ir=["disabled"],Lr={key:0,class:"row"},Rr={class:"col pt-1"},Sr={class:"form-group form-check"},Vr={class:"form-group"},Tr=["disabled"],Ar={class:"form-group"},Pr=["disabled"],Ur={class:"form-group"},$r=["disabled"],Fr={class:"form-group"},Br=["disabled"],Nr={class:"col pt-1"},Dr={class:"form-group form-check"},Or={class:"form-group"},jr=["disabled"],Wr={class:"form-group"},zr=["disabled"],Kr={class:"form-group"},Xr=["disabled"],Yr={class:"form-group"},Gr=["disabled"],Jr={class:"col pt-1"},Hr={class:"form-group form-check"},qr={class:"form-group"},Zr=["disabled"],Qr={class:"form-group"},ed=["disabled"],td={class:"form-group"},sd=["disabled"],od={class:"form-group"},ld=["disabled"],ad=["disabled"],nd={class:"row"},id={class:"col"},rd={class:"form-group"},dd=["disabled"],ud={class:"row"},cd={class:"col-md-12"},md={class:"form-group"},pd={class:"row mt-3"},fd={class:"col-md-12"},vd={class:"row mt-2"},bd={class:"col-md-12"},gd=["disabled"],yd={class:"row"},kd={class:"col"},hd={key:0},wd={class:"fixed-button active"},_d=["disabled"],xd={class:"row d-flex justify-content-evenly justify-content-lg-evenly justify-content-xl-between my-3"},Cd={key:0,class:"card-noc sm-shadow"},Md=["onClick"],Ed={class:"p-2"},Id={class:"d-bloc text-white text-nowrap"},Ld={class:"left-panel process-option"},Rd={class:"p-2"},Sd={class:"d-bloc text-white text-nowrap"},Vd={class:"row mt-2"},Td={class:"col"},Ad={class:"card bigCard m-shadow mb-5 overflow-visible"},Pd=["disabled"],Ud={class:"align-self-center"},$d={key:0,class:"displayButtons btn-group"},Fd={key:1},Bd={class:"card-body"},Nd={key:0},Dd={key:1,class:"mb-5"},Od={key:0,class:"container-fluid px-sm-5"},jd={class:"row"},Wd={class:"col-md-10 align-self-center"},zd={class:"text-blue"},Kd=["disabled"],Xd={key:1,class:"text-center"},Yd={key:2,class:"row"},Gd={class:"col-12 col-xxl-3 col-lg-4 col-md-6 col-sm-6 col-xs-12 position-relative"},Jd={class:"w-100"},Hd={class:"card-header-right"},qd={class:"btn-group card-option"},Zd={type:"button",class:"btn dropdown-toggle btn-menu border border-1","data-bs-toggle":"dropdown"},Qd={class:"dropdown-menu dropdown-menu-end me-1 pt-0 rounded pointer"},eu=["onClick"],tu=["onClick"],su=["onClick"],ou=["onClick"],lu=["onClick"],au=["onClick"],nu=["onClick"],iu=["onClick"],ru=["onClick"],du=["onClick"],uu=["onClick","disabled"],cu=["onClick","disabled"],mu={class:"card-body bg-white pt-1 pr-3 pl-3 pb-2"},pu={class:"row"},fu={class:"col-12 mb-3"},vu={class:"text-muted"},bu={class:"row"},gu={class:"col"},yu={class:"row d-flex align-items-center"},ku={class:"col-8"},hu={class:"f-w-700 d-flex align-items-center m-b-0 text-nowrap"},wu={class:"col text-end"},_u={class:"text-gray mb-0"},xu={class:"col-12 mt-3"},Cu={class:"row"},Mu={class:"col text-end"},Eu={class:"text-gray mb-0"},Iu={class:"col-12 mt-3"},Lu={class:"row"},Ru={class:"col-8"},Su={class:"mb-2"},Vu={class:"d-inline m-b-10"},Tu={class:"col text-end"},Au={class:"text-gray mb-0"},Pu={class:"row text-center mt-3"},Uu=["onClick"],$u={class:"col text-center text-muted"},Fu={class:"text-gray"},Bu={class:"card-footer"},Nu={class:"col text-center"},Du={class:"btn-group"},Ou=["disabled","onClick"],ju=["disabled","onClick"],Wu={key:3,class:"row"},zu={class:"col"},Ku={class:"table-responsive processesTable"},Xu={class:"position-relative me-1"},Yu={class:"instanceKey fs-5"},Gu=["onClick"],Ju={class:"d-inline m-0"},Hu={class:"m-0"},qu={class:"text-gray mb-0"},Zu={class:"d-inline m-0 text-nowrap"},Qu={class:"text-gray mb-0"},ec={class:"text-center"},tc={class:"text-center"},sc={class:"col text-center text-muted"},oc={class:"d-flex flex-row"},lc={class:"btn-group"},ac=["disabled","onClick"],nc=["disabled","onClick"],ic={href:"#",class:"btn btn-default dropdown-toggle border border-dark","data-bs-toggle":"dropdown"},rc={class:"dropdown-menu dropdown-menu-end position-absolute"},dc={class:"dropdown text-start"},uc=["onClick"],cc=["onClick"],mc=["onClick"],pc=["onClick"],fc=["onClick"],vc=["onClick"],bc=["onClick"],gc=["onClick"],yc=["onClick"],kc=["onClick","disabled"],hc=["disabled"],wc="{{instance_key}} - {{instance_name}} - {{process_token}} - {{process_name}} - {{data}}",po="process",_c=5,xc={__name:"index",setup(Cc){const fo=(sessionStorage.getItem("auth._token.local")||"").replace(/^Bearer\s/,""),Ut="/api",O=Za(),F=cn(),Ue=Qa(),{$bootstrap:$e}=ln(),i=r({loadingBreadcrumb:!1,loadingProcess:!1,loadingLogs:!1,editingProcess:!1,linkingInstance:!1,editingRobot:!1,editingXperience:!1,editingLaunchBot:!1,editingAlerts:!1,editingBackup:!1,editingName:!1,unlinkingInstance:!1,editingWebhooks:!1,editingCommandLine:!1,editingMembers:!1,deletingAlerts:!1,deletingProcess:!1,loadingCustomLogs:!1,deletingAllCustomLogs:!1,deletingCustomLog:!1,loadingAllLogs:!1,editingAvatar:!1,testingAvatar:!1,settingAvatar:!1,editingExecutionTimeout:!1}),Fe=r([{icon:["fas","house"],text:"",href:"/"},{text:O.params.process,active:!0},{}]);let c=r({instances:[]}),_e=r([]),xe=r([]),$t=r([]),Ce=r([]),Ft=r([]);const b=(o,e,a)=>{let d=new $e.Toast(document.getElementById(o));Ee.value=a,ve.value=e,d.show()},ce=(o,e,a,d,k,V)=>{x[o](e,a).then($=>{d($)}).catch($=>{k($)}).finally(()=>{V()})},Ze=r(!0);en(async()=>{re.value=mn(po,_c),i.value.loadingProcess=!0,i.value.loadingBreadcrumb=!0,Bt(),x.post(`/process/data/${O.params.process}`).then(o=>{c.value=(o==null?void 0:o.data)||{instances:[]},c.value.type||(c.value.type=0,c.value.assistant_name=null),i.value.loadingProcess=!1,zt(),Nt(),Ot(),Wt(),Kt(),Ze.value&&vo(),window.addEventListener("beforeunload",function(e){clearInterval(Qe)})}).catch(o=>{var e;b("toastId",((e=o==null?void 0:o.data)==null?void 0:e.message)||"Error loading process","danger"),Ze.value=!1,Ue.push({path:"/"})})});const Bt=()=>{x.post(`/breadcrumb/tasks/${O.params.process}`).then(o=>{var e,a,d,k,V,$;Fe.value[1].text=(a=(e=o.data)==null?void 0:e.project)==null?void 0:a.name,Fe.value[1].href=`/project/${(k=(d=o.data)==null?void 0:d.project)==null?void 0:k.token}`,Fe.value[2]={text:($=(V=o.data)==null?void 0:V.process)==null?void 0:$.name,active:!0}}).finally(()=>{i.value.loadingBreadcrumb=!1})},me=r("card"),B=async()=>{i.value.loadingProcess=!0,Dt(),zt(),Nt(),Ot(),Wt(),Kt()};var Qe;const vo=()=>{Qe=setInterval(async()=>{Dt()},1e4)};tn(()=>{clearInterval(Qe)});const Nt=()=>{ce("post","/users/list",null,d=>{xe.value=(d==null?void 0:d.data)||[],xe.value=xe.value.filter(k=>!k.disabled)},d=>{var k;b("toastId",((k=d==null?void 0:d.data)==null?void 0:k.message)||"Error loading users","danger")},()=>{})},Dt=()=>{const o=d=>{var k;if(c.value=(d==null?void 0:d.data)||{instances:[]},Bt(),ze.value){const V=c.value.instances.find($=>$.id===u.value.id);u.value.screenshot=(V==null?void 0:V.screenshot)||null,ie.value=(k=u.value)==null?void 0:k.screenshot}},e=d=>{var k;b("toastId",((k=d==null?void 0:d.data)==null?void 0:k.message)||"Error loading process","danger"),Ze.value=!1,Ue.push({path:"/"})},a=()=>{i.value.loadingProcess=!1};ce("post",`/process/data/${O.params.process}`,null,o,e,a)},Ot=async()=>{const o=d=>{$t.value=(d==null?void 0:d.data)||[]},e=d=>{var k;b("toastId",((k=d==null?void 0:d.data)==null?void 0:k.message)||"Error loading process users","danger")},a=()=>{};ce("post",`/users/getMembers/${O.params.process}`,null,o,e,a)};let jt=r(null);const Wt=()=>{ce("post","/forms/list",null,d=>{Ce.value=(d==null?void 0:d.data)||[],Ce.value=[{id:null,name:"No trigger"},...Ce.value],jt.value=Ce.value.find(k=>k.id===c.value.form_id)||null},d=>{var k;b("toastId",((k=d==null?void 0:d.data)==null?void 0:k.message)||"Error loading forms","danger")},()=>{})},zt=()=>{ce("post","/process/list",null,d=>{_e.value=(d==null?void 0:d.data)||[]},d=>{var k;b("toastId",((k=d==null?void 0:d.data)==null?void 0:k.message)||"Error loading processes","danger"),Ue.push({path:"/"})},()=>{})},Kt=()=>{ce("post","/instance/list",null,d=>{Ft.value=(d==null?void 0:d.data)||[],et.value=!1},d=>{var k;b("toastId",((k=d==null?void 0:d.data)==null?void 0:k.message)||"Error loading instances","danger"),et.value=!0},()=>{})},et=r(!1);let N=r({name:null,instance:null,process:null});const bo=C(()=>Ft.value.filter(o=>!c.value.instances.some(e=>e.id===o.id))),tt=C(()=>c.value.instances.some(o=>{var e;return o.name.toLowerCase()===((e=N.value.name)==null?void 0:e.toLowerCase())}));let go=r(null),st=r(!1);const ot=()=>{st.value=!0,N.value.process=c.value.token},Xt=()=>{st.value=!1,N.value={name:null,instance:null,process:null}},yo=async()=>{i.value.linkingInstance=!0;const o=await ko();o.result?(Xt(),B()):b("toastId",o.message,"danger"),i.value.linkingInstance=!1},ko=async()=>{var o;try{return await x.post(`/instance/${ho(N.value)}`,wo(N.value)),{result:!0}}catch(e){return{result:!1,message:((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error linking or creating instance"}}},ho=o=>o.instance!==null?"link":"new",wo=o=>{const e={process:o.process};return o.instance?e.instance=o.instance:e.name=o.name,e};let _o=C(()=>N.value.instance!==null||Yt.value);const Yt=C(()=>{var o;return((o=N.value.name)==null?void 0:o.trim().length)>2&&co.test(N.value.name)&&!tt.value});let xo=r(null),lt=r(!1);const at=C(()=>_e.value.some(o=>o.name.toLowerCase()===U.value.name.toLowerCase()&&o.token!==c.value.token));let U=r({name:"",description:"",token:"",type:0,assistant_name:""});const Co=()=>{var o;lt.value=!0,U.value={name:c.value.name,description:((o=c.value)==null?void 0:o.data)||"",token:c.value.token,type:c.value.type??0,assistant_name:c.value.assistant_name||""},R.value.type=c.value.type??0,c.value.type===1?R.value.assistant_name=c.value.assistant_name||"":R.value.assistant_name=""},nt=()=>{lt.value=!1,U.value={name:"",description:"",token:""},ke.value=0,Te.value=""},Mo=C(()=>Gt.value&&!at.value),Gt=C(()=>{var o;return((o=U.value.name)==null?void 0:o.trim().length)>2&&mo.test(U.value.name)}),Eo=async()=>{i.value.editingProcess=!0;const o=await Io();o.result?(nt(),B()):b("toastId",o.message,"danger"),i.value.editingProcess=!1},Io=async()=>{var o;try{return await x.post("/process/update",{description:U.value.description,name:U.value.name,token:U.value.token,id:c.value.id,type:U.value.type,assistant_name:U.value.type==1?U.value.assistant_name:null}),{result:!0}}catch(e){return{result:!1,message:(o=e==null?void 0:e.data)==null?void 0:o.message}}};let Lo=r(null),it=r(!1);const Ro=()=>{let o=JSON.parse(JSON.stringify($t.value)).map(e=>({id:e.user_id,admin:e.admin}));H.value=xe.value.map(e=>{const a=o.find(d=>d.id===e.id)&&o.find(d=>d.id===e.id).admin;return{...e,isAdmin:a}}).filter(e=>o.some(a=>a.id===e.id)),console.log(H.value),it.value=!0},Jt=()=>{it.value=!1,H.value=[]},So=async()=>{i.value.editingMembers=!0;const o=await Vo();o.result?(Jt(),B()):b("toastId",o.message,"danger"),i.value.editingMembers=!1};let H=r([]);const Vo=async()=>{var o;try{return await x.post("/users/setMembers",{users:H.value.map(e=>e.email),process:c.value.token}),{result:!0}}catch(e){return{result:!1,message:((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error updating members"}}},Me=r(5),Be=r(1),To=C(()=>q==null?void 0:q.length);let Ao=r(null),rt=r(!1);const Ht=r(null);let R=r({file:"",name:"",robot:null,startbot:""});const Po=()=>{rt.value=!0,Zt(),R.value.name=c.value.last_robot?c.value.last_robot.name:c.value.name,R.value.startbot=c.value.last_robot?c.value.last_robot.start_bot:""},dt=()=>{rt.value=!1,R.value={file:"",name:"",robot:null,startbot:""},Ht.value.value=null},Uo=()=>{ut.value=!1,q.value=[]},$o=async()=>{i.value.editingRobot=!0;const o=await Oo();o.result?(dt(),B(),b("toastId","Robot updated","success")):b("toastId",o.message,"danger"),i.value.editingRobot=!1},Fo=o=>{an(()=>{R.value.file=o.target.files[0]})},Bo=C(()=>_e.value.some(o=>o.name===R.value.name&&o.token!==c.value.token)),No=C(()=>R.value.file?R.value.startbot.trim()!=="":!0);let Do=C(()=>qt.value&&!Bo.value&&No.value);const qt=C(()=>{var e;const o=/^[a-zA-Z0-9\s]*$/;return((e=R.value.name)==null?void 0:e.trim().length)>2&&o.test(R.value.name)}),Oo=async()=>{var o;try{const e=new FormData;return e.append("file",R.value.file),e.append("name",R.value.name),e.append("startbot",R.value.startbot),e.append("robot",c.value.last_robot?c.value.last_robot.id:null),e.append("project_id",c.value.project_id),e.append("process_id",c.value.token),e.append("type",c.value.type),c.value.type===1&&e.append("assistant_name",c.value.assistant_name),await x.post("/process/robot/update/data",e),{result:!0,message:"Robot updated"}}catch(e){return{result:!1,message:((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error updating robot"}}},q=r([]),Zt=async()=>{var o;try{const e=await x.post("/process/robots/history",{process_token:c.value.token});q.value=(e==null?void 0:e.data)||[]}catch(e){q.value=[],b("toastId",((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error loading robot history","danger")}},jo=async o=>{var e;try{const a=await x.post("/process/robots/set/backup",{process_token:o.process_token,robot_version:o.robot_version}).then(()=>{Zt(),b("toastId","Robot version set successfully","success")}).catch(d=>{var k;b("toastId",((k=d==null?void 0:d.data)==null?void 0:k.message)||"Error setting robot version","danger")})}catch(a){b("toastId",((e=a==null?void 0:a.data)==null?void 0:e.message)||"Error setting robot version","danger")}},Wo=r(null),ut=r(!1),zo=()=>{dt(),ut.value=!0};let Ko=r(null),ct=r(!1),se=r(null);const Xo=()=>{se.value=JSON.parse(JSON.stringify(jt.value)),ct.value=!0},Qt=()=>{ct.value=!1,se.value=null},Yo=async()=>{i.value.editingXperience=!0;let o=await Go();o.result?(Qt(),B()):b("toastId",o.message,"danger"),i.value.editingXperience=!1},Go=async()=>{var o,e,a;try{return await x.post(`/process/${O.params.process}/form`,{form_id:((o=se.value)==null?void 0:o.id)||null,form_name:((e=se.value)==null?void 0:e.name)||null}),{result:!0}}catch(d){return{result:!1,message:((a=d==null?void 0:d.data)==null?void 0:a.message)||"Error updating form"}}};let Jo=r(null),mt=r(!1);const Ho=()=>{mt.value=!0,ae.value=c.value.trigger?qo():null},qo=()=>_e.value.filter(o=>o.id===c.value.trigger)[0];let ae=r(null);const es=()=>{mt.value=!1};let Zo=C(()=>_e.value.filter(o=>o.token!==O.params.process));const Qo=async()=>{i.value.editingLaunchBot=!0;let o=await el();o.result?(es(),B()):b("toastId",o.message,"danger"),i.value.editingLaunchBot=!1},el=async()=>{var o,e,a;try{return await x.post(`/process/${O.params.process}/trigger`,{trigger:((o=ae.value)==null?void 0:o.id)||null,trigger_name:((e=ae.value)==null?void 0:e.name)||null}),{result:!0}}catch(d){return{result:!1,message:((a=d==null?void 0:d.data)==null?void 0:a.message)||"Error launching bot"}}};let tl=r(null),pt=r(!1),X=r({email:[],minutes:null});const sl=()=>{let o=[];c.value.email&&(o=c.value.email.split(",")),X.value={email:o,minutes:c.value.minutes??0},pt.value=!0},ft=()=>{pt.value=!1,X.value={email:[],minutes:null}},ol=async()=>{i.value.editingAlerts=!0;let o=await ll();o.result?(ft(),B()):b("toastId",o.message,"danger"),i.value.editingAlerts=!1},ll=async()=>{var e;const o=X.value.email.join(",");try{return await x.post("/process/update",{email:o,minutes:X.value.minutes,token:c.value.token,id:c.value.id}),{result:!0}}catch(a){return{result:!1,message:((e=a==null?void 0:a.data)==null?void 0:e.message)||"Error updating alerts"}}},al=async()=>{i.value.deletingAlerts=!0;let o=await nl();o.result?(ft(),B()):b("toastId",o.message,"danger"),i.value.deletingAlerts=!1},nl=async()=>{var o;try{return await x.post("/process/update2",{email:null,minutes:null,token:c.value.token,id:c.value.id}),{result:!0}}catch(e){return{result:!1,message:((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error delete alerts"}}};let il=C(()=>X.value.email.length>0&&X.value.minutes>0),rl=r(null),vt=r(!1),Y=r({instance:null,minutes:null});const dl=()=>{var o,e,a,d,k;vt.value=!0,Y.value={instance:((e=(o=c.value)==null?void 0:o.backup)==null?void 0:e.id)??null,minutes:((k=(d=(a=c.value)==null?void 0:a.backup)==null?void 0:d.pivot)==null?void 0:k.minutes)??0}},ts=()=>{vt.value=!1,Y.value={instance:null,minutes:null}},ul=async()=>{i.value.editingBackup=!0;let o=await cl();o.result?(ts(),B()):b("toastId",o.message,"danger"),i.value.editingBackup=!1},cl=async()=>{var o;try{return await x.post(`/process/setBackup/${O.params.process}`,{id:Y.value.instance,minutes:Y.value.minutes||0}),{result:!0}}catch(e){return{result:!1,message:((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error setting backup"}}};let ml=C(()=>Y.value.instance!==null&&Y.value.minutes>0);const pl=r(null),bt=r(!1),pe=r(""),ss=o=>{var e;pe.value=((e=o==null?void 0:o.pivot)==null?void 0:e.command_line)||"",bt.value=!0,u.value=o},os=()=>{bt.value=!1,u.value=null,pe.value=""},fl=async()=>{i.value.editingCommandLine=!0;const o=await vl();o.result?(os(),B()):b("toastId",o.message,"danger"),i.value.editingCommandLine=!1},vl=async()=>{var o;try{const e=await x.post("/process/command_line",{command_line:pe.value,instance_id:u.value.key,process_id:c.value.token});return{result:!0}}catch(e){return{result:!1,message:((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error sending command line"}}},bl=r(null),gt=r(!1),gl=()=>{gt.value=!0},yl=()=>{gt.value=!1,u.value=null},ls=o=>{var d;u.value=o;const a=!!!!((d=o.actual_status)!=null&&d.stop_framework);gl(),kl(a)},kl=async o=>{try{await x.post("/robots/setFrameworkStatus",{instance:u.value.key,process:c.value.token,stop_framework:+!o})}catch(e){console.log(e)}},Ne=o=>{var a,d;return!!((a=o.actual_status)!=null&&a.stop_framework)||((d=o.actual_status)==null?void 0:d.status)!==2||c.value.last_robot===null},as=o=>!o&&o!==0?"":un[o],ns=(o,e,a)=>o.slice(0,e)+(e<o.length?a||"...":""),hl=o=>{var e,a;if(typeof o.cpu=="object")return((e=o.cpu)==null?void 0:e.name)||"**";if(typeof o.cpu=="string")return((a=JSON.parse(o.cpu))==null?void 0:a.name)||"**"};let is=o=>{try{return JSON.parse(o.memory).virtual.total}catch{return"00"}},Z=o=>{try{return{ram:JSON.parse(o.memory).virtual.percent+"%",cpu:JSON.parse(o.cpu).percent+"%",disk:JSON.parse(o.disk)[0].percent+"%"}}catch{return{ram:"00%",cpu:"00%",disk:"00%"}}},rs=o=>{try{return JSON.parse(o.disk)[0].total}catch{return"00"}},De=r(""),ds=(o,e)=>{try{navigator.clipboard.writeText(o||""),De.value=o}catch(a){console.log(a)}},yt=r(!1),wl=o=>{try{navigator.clipboard.writeText(o||""),De.value="",yt.value=!0,setTimeout(()=>{yt.value=!1},2e3)}catch{b("toastId","Error copying to clipboard","danger")}};r(null);const kt=r(!1),fe=r({header:{title:"",theme:""},body:""}),Oe=o=>{kt.value=!0,fe.value=o},_l=()=>{kt.value=!1,fe.value={header:{title:"",theme:""},body:""}},je=async function(o,e){if(o.actual_status.status=e,c.value.last_robot===null)return Oe({header:{title:"Error",theme:"red"},body:"This process scannot start without an assigned robot"}),!1;var a={process_id:c.value.token,instance_id:o.key,status:e};e===0&&Oe({header:{title:"Warning",theme:"warning"},body:"Robot sent to stop"});let d=await xl(a),k=new $e.Toast(document.getElementById("toastId"));d.result?(Ee.value="success",e!==0?ve.value="Robot started on this instance":ve.value="Robot stopped in this instance",k.show()):(Ee.value="danger",ve.value="Error starting the robot",k.show())},ve=r(""),Ee=r("success"),xl=async o=>{var e;try{return await x.post("/robots/status",o),{result:!0}}catch(a){return{result:!1,message:((e=a==null?void 0:a.data)==null?void 0:e.message)||"Error changing robot status"}}},Cl=r(null),ht=r(!1),u=r(null),Q=r(""),us=o=>{ht.value=!0,Q.value=o.name,u.value=o},cs=()=>{ht.value=!1,Q.value="",u.value=null},Ml=async()=>{i.value.editingName=!0;let o=await El();o.result?(cs(),B()):b("toastId",o.message,"danger"),i.value.editingName=!1},El=async()=>{var o;try{return u.value.name=Q.value,await x.post("/instance/update",u.value),{result:!0}}catch(e){return{result:!1,message:((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error updating instance name"}}},wt=C(()=>c.value.instances.some(o=>o.name.toLowerCase()===Q.value.toLowerCase()&&o.id!==u.value.id));let ms=C(()=>{var o;return((o=Q.value)==null?void 0:o.trim().length)>2&&co.test(Q.value)&&!wt.value});const Il=r(null),_t=r(!1),ps=o=>{_t.value=!0,u.value=o},fs=()=>{_t.value=!1,u.value=null},Ll=async()=>{i.value.unlinkingInstance=!0;let o=await Rl();o.result?(fs(),B()):b("toastId",o.message,"danger"),i.value.unlinkingInstance=!1},Rl=async()=>{var e;const o={id:u.value.id,process:c.value.token};try{return await x.post("/instance/unlink",o),{result:!0}}catch(a){return{result:!1,message:((e=a==null?void 0:a.data)==null?void 0:e.message)||"Error unlinking instance"}}},Sl=location.protocol+"//"+location.host,Vl=r(null),xt=r(!1),oe=r(""),vs=async o=>{i.value.loadingLogs=!0,xt.value=!0,u.value=o,await bs(),i.value.loadingLogs=!1},bs=async()=>{var e,a,d;if(i.value.loadingLogs=!0,(e=u.value)!=null&&e.actual_status&&((a=u.value)!=null&&a.actual_status.pid)){var o={instance:u.value.id,pid:(d=u.value)==null?void 0:d.actual_status.pid,robot_id:c.value.last_robot.id};let k=await Tl(o);k.result?(oe.value="",k.data.forEach(V=>{oe.value+=(V==null?void 0:V.log)+`
`})):b("toastId",k.message,"danger")}i.value.loadingLogs=!1},Tl=async o=>{var e;try{const a=await x.post("/process/robot/getlog",o);return{result:!0,data:(a==null?void 0:a.data)||[]}}catch(a){return{result:!1,message:((e=a==null?void 0:a.data)==null?void 0:e.message)||"Error getting logs"}}},Al=async()=>{var k,V,$,de,Je,Ae,He,Pe;if(!((k=F==null?void 0:F.user)!=null&&k.apiKey)){b("toastId","You need an user api key to download the logs, please generate one.","danger");return}const o=vn((V=F==null?void 0:F.user)==null?void 0:V.apiKey),e=new Date(o.exp*1e3);if(e&&new Date>e){b("toastId","Your api key is expired, please generate a new one.","danger");return}const d=`${Sl}/api/process/robot/log/${($=u.value)==null?void 0:$.id}/${(Je=(de=c.value)==null?void 0:de.last_robot)==null?void 0:Je.id}/${(He=(Ae=u.value)==null?void 0:Ae.actual_status)==null?void 0:He.pid}?token=${(Pe=F==null?void 0:F.user)==null?void 0:Pe.apiKey}`;window.open(d,"_blank")},Pl=()=>{xt.value=!1,u.value=null,oe.value=""},Ul=r(null),Ct=r(!1);let be=r(5),Ie=r(1);const $l=C(()=>ge.value.length),ge=r([]),Fl=C(()=>{var o,e;return(e=(o=c.value)==null?void 0:o.instances)==null?void 0:e.length}),gs=r(""),ys=r("success"),ne=r(0),ye=r(""),ks=async o=>{Ct.value=!0,u.value=o,await We(!0)},We=async o=>{i.value.loadingCustomLogs=!0;const e={process_token:c.value.token,instance_key:u.value.key};o&&(e.limit=100),await x.post("/process/getFullCustomLogs",e).then(a=>{ge.value=((a==null?void 0:a.data)||[]).map(d=>(d.type||(d.type="info"),d))}).catch(a=>{var d;Le((d=a==null?void 0:a.data)==null?void 0:d.message,"danger")}).finally(()=>{i.value.loadingCustomLogs=!1})},Bl=()=>{ne.value===0?ne.value++:Nl()},Nl=async()=>{i.value.deletingAllCustomLogs=!0;let o=await Dl();o.result?(ne.value=0,ye.value="",Le("Logs deleted","success"),await We(!0)):Le(o.message,"danger"),i.value.deletingAllCustomLogs=!1},Dl=async()=>{var o;try{return await x.post("/process/deleteLogs",{process_token:c.value.token,instance_key:u.value.key}),{result:!0}}catch(e){return{result:!1,message:((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error deleting logs"}}},Ol=async o=>{i.value.deletingCustomLog=!0;let e=await jl(o);e.result?(Le("Log deleted","success"),await We(!0)):Le((e==null?void 0:e.message)||"Error deleting log","danger"),i.value.deletingCustomLog=!1},jl=async o=>{var e;try{return await x.post("/process/deleteLog",{process_token:c.value.token,instance_key:u.value.key,log_id:o.id}),{result:!0}}catch(a){return{result:!1,message:((e=a==null?void 0:a.data)==null?void 0:e.message)||"Error deleting log"}}},Le=(o,e)=>{gs.value=o,ys.value=e,new $e.Toast(document.getElementById("processToast")).show()},Wl=()=>{Ct.value=!1,u.value=null,ge.value=[],ne.value=0,ye.value=""},zl=["all","info","warning","error"],Re=r("all"),Kl=C(()=>ge.value.filter(o=>Re.value==="all"||o.type===Re.value)),Xl=r(null),ze=r(!1),ie=r(""),hs=o=>{var e;ze.value=!0,u.value=o,ie.value=((e=u.value)==null?void 0:e.screenshot)||""},Yl=()=>{ze.value=!1,u.value=null,ie.value=""},Gl=async()=>{i.value.loadingScreenshot=!0;let o=await Jl();o.result||b("toastId",o.message,"danger"),i.value.loadingScreenshot=!1},Jl=async()=>{var o;try{const e=await x.post(`/instance/screenshot/${u.value.id}`);return{result:!0}}catch(e){return{result:!1,message:((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error getting screenshot"}}},Hl=r(null),Ke=r(!1);r([]);const ws=async o=>{Ke.value=!0,u.value=o;try{u.value.webhook=JSON.parse(u.value.pivot.webhook_info||`{"play": {
                "enabled": false,
                "method": "",
                "url": "",
                "headers": "",
                "body": ""},
                "stop": {
                    "enabled": false,
                    "method": "",
                    "url": "",
                    "headers": "",
                    "body": ""
                },
                "log": {
                    "enabled": false,
                    "method": "",
                    "url": "",
                    "headers": "",
                    "body": ""
                }
            }`)}catch{u.value.webhook={play:{enabled:!1,method:"",url:"",headers:"",body:""},stop:{enabled:!1,method:"",url:"",headers:"",body:""},log:{enabled:!1,method:"",url:"",headers:"",body:""}}}},ql=()=>{Ke.value=!1,u.value=null},Zl=async()=>{i.value.editingWebhooks=!0;let o=await Ql();o.result?b("toastId","Webhook saved","success"):b("toastId",o.message,"danger"),i.value.editingWebhooks=!1},Ql=async()=>{var o;try{const e={instance_id:u.value.id,webhook:u.value.webhook};return await x.post(`/process/${c.value.token}/saveWebhook`,e),{result:!0}}catch(e){return{result:!1,message:((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error saving webhook"}}},ea=(o,e)=>{if(!(!o||e!=="row")&&j.value&&o.email===(G==null?void 0:G.value))return"bg-light"},ta=(o,e)=>!o||e!=="row"?void 0:q.value.findIndex(d=>d.robot_version===o.robot_version)===0?"active-robot-row":"",Xe=[{text:"Stop process",value:"stop"},{text:"Run process",value:"run"},{text:"View custom logs",value:"logs"},{text:"Modify assets",value:"modify_asset"}],sa=r(null),Mt=r(!1),ee=r(!1),Et=r([]),oa=async()=>{ee.value=!0,le.value=null,te.value=[],Mt.value=!0,la(),na()},la=async()=>{x.post("/processEmails").then(o=>{if(o.success)Et.value=Object.values(o.data);else throw new Error("Error getting emails")}).catch(o=>{var e;console.log(o),b("toastId",((e=o==null?void 0:o.data)==null?void 0:e.message)||"Error getting emails","danger")})},aa=C(()=>Et.value.filter(o=>!W.value.some(e=>e.email===o))),na=async()=>{x.post(`/process/${c.value.token}/emails`).then(o=>{if(o.success){const e=o.data.map(a=>(a.permissions=JSON.parse(a.permissions),a));W.value=e}else throw W.value=[],new Error("Error getting control room")}).catch(o=>{var a,d;let e=new $e.Toast(document.getElementById("toastId"));Ee.value="danger",ve.value=((a=o==null?void 0:o.data)==null?void 0:a.message)||"Error getting control room",e.show(),b("toastId",((d=o==null?void 0:o.data)==null?void 0:d.message)||"Error getting control room","danger")}).finally(()=>{ee.value=!1})},_s=()=>{if(j.value){b("toastId","You need to cancel the editing user before closing.","danger");return}Mt.value=!1,j.value=!1,G.value=null,z.value=null},Se=r(5),Ye=r(1),It=C(()=>xs.value.length),W=r([]),Ve=r(""),xs=C(()=>(console.log("filtering",Ve.value),W.value.filter(o=>{var e;return o.email.toLowerCase().includes((e=Ve.value)==null?void 0:e.toLowerCase())}))),le=r(null),G=r(null),z=r(null),te=r([]),ia=o=>(o==null?void 0:o.length)===0||!Lt(o)||Cs(o),Lt=o=>fn.test(o),Cs=o=>W.value.some(e=>e.email===o&&e.email!==(G==null?void 0:G.value)),ra=async()=>{const o={email:le.value,permissions:Xe.reduce((e,a)=>(e[a.value]=te.value.includes(a.value),e),{})};W.value.push(o),le.value=null,te.value=[]},da=o=>{if(!Lt(o)){b("toastId","Invalid email format","danger");return}Et.value.push(o),le.value=o},j=r(!1),ua=(o,e)=>{j.value=!0,z.value=o,G.value=o,te.value=Xe.filter(a=>e[a.value]).map(a=>a.value)},ca=async()=>{W.value=W.value.map(o=>(o.email===G.value&&(o.email=z.value,o.permissions=Xe.reduce((e,a)=>(e[a.value]=te.value.includes(a.value),e),{})),o)),Ms(),b("toastId","Changes will be applied when saving.","success")},Ms=()=>{j.value=!1,G.value=null,z.value=null,te.value=[]},ma=async o=>{window.confirm(`Are you sure you want to remove ${o.email}? You must click the save button to apply the changes.`)&&(W.value=W.value.filter(e=>e.email!==o.email),b("toastId","Changes will be applied when saving.","success"))},pa=async()=>{if(j.value){b("toastId","You need to cancel the editing user before closing.","danger");return}ee.value=!0,x.post(`/process/${c.value.token}/saveEmails`,{process_token:c.value.token,data:[...W.value]}).then(o=>{if(o.success)_s();else throw new Error(o.message)}).catch(o=>{var e;b("toastId",((e=o==null?void 0:o.data)==null?void 0:e.message)||"Error saving control room","danger")}).finally(()=>{ee.value=!1})},Es=async o=>{(await fa(o)).result?(Oe({header:{title:"Success",theme:"green"},body:"Instance removed as backup"}),B()):Oe({header:{title:"Error",theme:"red"},body:"Error removing instance as backup"})},fa=async o=>{var e;try{const a={instance_id:o.id,instance_name:o.name,process_id:c.value.token};return await x.post("/process/removeBackup",a),{result:!0}}catch(a){return{result:!1,message:((e=a==null?void 0:a.data)==null?void 0:e.message)||"Error removing backup"}}},va=r(null),Rt=r(!1),ba=r(null),Is=o=>{u.value=o,Rt.value=!0},Ls=()=>{Rt.value=!1,u.value=null,ba.value=null},ga=r(null),St=r(!1),S=r({execution_timeout:0,notify_timeout:!1,stop_timeout:!1}),Rs=o=>{var e,a,d;u.value=o,console.log(u.value),St.value=!0,S.value.execution_timeout=((e=u.value)==null?void 0:e.pivot.execution_timeout)||0,S.value.notify_timeout=!!((a=u.value)!=null&&a.pivot.notify_timeout)||!1,S.value.stop_timeout=!!((d=u.value)!=null&&d.pivot.stop_timeout)||!1},Ss=()=>{St.value=!1,S.value={execution_timeout:0,notify_timeout:!1,stop_timeout:!1}},ya=r(null),ka=r(null),ha=r(null),wa=C(()=>S.value.notify_timeout||S.value.stop_timeout),_a=async()=>{var o;if(!wa.value&&S.value.execution_timeout>0){b("toastId","You must choose at least one option (notify or stop) if you set an execution timeout.","danger");return}i.value.editingExecutionTimeout=!0;try{const e=await x.post("/process/timeout/set",{process_token:c.value.token,instance_key:u.value.key,execution_timeout:S.value.execution_timeout,notify_timeout:S.value.notify_timeout,stop_timeout:S.value.stop_timeout});if(e.success)b("toastId","Execution timeout updated successfully","success"),Ss(),B();else throw new Error(e.message||"Error updating execution timeout")}catch(e){console.log(e),b("toastId",((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error updating execution timeout","danger")}i.value.editingExecutionTimeout=!1},ke=r(0),Te=r(""),xa=()=>{ke.value===0?ke.value++:Ca()},Ca=async()=>{i.value.deletingProcess=!0;let o=await Ma();o.result?(nt(),Ue.push({path:"/processes"})):b("toastId",o.message,"danger"),i.value.deletingProcess=!1},Ma=async()=>{var o;try{return await x.post("/process/delete",{id:O.params.process}),{result:!0}}catch(e){return{result:!1,message:(o=e==null?void 0:e.data)==null?void 0:o.message}}},Ea=r(null),Vt=r(!1),M=r({type:0,assistant_name:null,assistant_avatar:""}),Ia=()=>{var o,e,a;M.value={type:((o=c.value)==null?void 0:o.type)||0,assistant_name:((e=c.value)==null?void 0:e.assistant_name)||null,assistant_avatar:((a=c.value)==null?void 0:a.assistant_avatar)||""},Vt.value=!0},Vs=()=>{Vt.value=!1,M.value={type:0,assistant_name:null,assistan_avatar:""}},La=C(()=>{var o,e;return((o=M.value)==null?void 0:o.type)===0||((e=M.value)==null?void 0:e.type)===1&&Tt.value}),Tt=C(()=>{var o;return((o=M.value.assistant_name)==null?void 0:o.trim().length)>2&&mo.test(M.value.assistant_name)}),Ts=async o=>{var e;i.value.testingNotification=!0;try{await x.post("/process/robots/avatar/testNotification",{process_id:c.value.token,instance_id:o.key,status:99}),b("toastId","Test notification sent successfully","success")}catch(a){b("toastId",((e=a==null?void 0:a.data)==null?void 0:e.message)||"Error sending test notification","danger")}i.value.testingNotification=!1},Ra=async()=>{var o;i.value.editingAvatar=!0;try{const e=await x.post("/process/robots/avatar/save",{type:M.value.type,process_token:c.value.token,assistant_name:M.value.assistant_name});if(e.success)b("toastId","Avatar updated successfully","success"),Vs(),B();else throw new Error(e.message||"Error updating avatar")}catch(e){b("toastId",((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error updating avatar","danger")}i.value.editingAvatar=!1},As=r(null);sn(()=>M.value.assistant_name,o=>{Tt.value&&(clearTimeout(As.value),As.value=setTimeout(()=>{Sa()},500))});const Sa=async()=>{var o;i.value.settingAvatar=!0;try{M.value.assistant_avatar=`${Ut}/process/preview_avatar?assistant_name=${M.value.assistant_name}`}catch(e){b("toastId",((o=e==null?void 0:e.data)==null?void 0:o.message)||"Error updating avatar","danger")}finally{i.value.settingAvatar=!1}};let Va=[{text:"Process",icon:"fa-solid fa-diagram-project",color:"primary",action:Co,private:!1},{text:"Robot",icon:"fa-solid fa-robot",color:"primary",action:Po,private:!1},{text:"Avatar",icon:"fa-solid fa-user-astronaut",color:"primary",action:Ia,private:!1},{text:"Members",icon:"fa-solid fa-user-group",color:"primary",action:Ro,private:!0},{text:"Backup",icon:"fa-solid fa-server",color:"primary",action:dl,private:!1},{text:"Alerts",icon:"fa-solid fa-triangle-exclamation",color:"primary",action:sl,private:!1},{text:"CronJobs",icon:"fa-solid fa-clock",color:"primary",href:`/processes/${O.params.process}/cron`,private:!1},{text:"Launch Bot",icon:"fa-solid fa-rocket",color:"primary",action:Ho,private:!1},{text:"Xperience",icon:"fa-solid fa-list",color:"primary",action:Xo,private:!1},{text:"Data load",icon:"fa-solid fa-database",color:"primary",href:`/processes/${O.params.process}/tasks`,private:!1},{text:"Control Room",icon:"fa-solid fa-sliders",color:"primary",action:oa,private:!1}];const re=r(5),Ge=r(1);return(o,e)=>{var Us,$s,Fs,Bs,Ns,Ds,Os,js,Ws,zs,Ks,Xs,Ys,Gs,Js,Hs,qs,Zs;const a=ro("font-awesome-icon"),d=Da,k=Oa,V=Fa,$=Ba,de=Na,Je=ja,Ae=Wa,He=za,Pe=Ka,Ps=Xa,Ta=Ya,Aa=Ga,Pa=Ja,Ua=qa,$a=ro("font-awesome-iconx"),At=Ha;return m(),_(ue,null,[n(uo,{ref:"toastProfileId",text:s(ve),variant:s(Ee)},null,8,["text","variant"]),n(uo,{text:s(gs),variant:s(ys),id:"processToast"},null,8,["text","variant"]),n(L,{ref_key:"stopFrameworkModal",ref:bl,show:s(gt),header:{title:"Stop framework",theme:"warning"},type:"confirmation",modalClass:"modal-md",onCancel:e[0]||(e[0]=()=>yl())},{default:p(()=>e[103]||(e[103]=[t("div",{class:"row"},[t("div",{class:"col"},[t("h3",{class:"text-center"}," Stopping framework ")])],-1)])),_:1},8,["show"]),n(L,{ref_key:"addOrLinkInstanceModalRef",ref:go,show:s(st),header:{title:"Add or link instance",theme:"green"},type:"confirmation",modalClass:"modal-md",onCancel:e[4]||(e[4]=()=>Xt())},{afterFooter:p(()=>[t("button",{class:"btn btnSuccessBorderLight",onClick:e[3]||(e[3]=l=>yo()),disabled:!s(_o)||s(i).linkingInstance},[s(i).linkingInstance?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[110]||(e[110]=f(" Save "))],8,En)]),default:p(()=>[t("div",gn,[e[109]||(e[109]=t("div",{class:"col-md-6"},[t("img",{class:"img-fluid",src:"/img/538.jpg"}),t("h5",{class:"mt-4 text-center"}," Add one instance Windows/Linux/Mac Desktop or RocketCloud instance to run your robot ")],-1)),t("div",yn,[t("div",kn,[t("div",hn,[e[105]||(e[105]=t("label",{class:"form-label"}," Link existing instance ",-1)),v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>s(N).instance=l),class:"form-select"},[e[104]||(e[104]=t("option",{value:null}," -- Select instance -- ",-1)),(m(!0),_(ue,null,he(s(bo),l=>(m(),_("option",{value:l.id},w(l.name),9,wn))),256))],512),[[we,s(N).instance]])])]),e[108]||(e[108]=t("div",{class:"row mt-2"},[t("div",{class:"col"},[t("h5",null,"Or create NEW")])],-1)),t("div",_n,[t("div",xn,[e[106]||(e[106]=t("label",{class:"form-label"}," Name ",-1)),v(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s(N).name=l),readonly:s(N).instance!==null,class:I(["form-control",{"is-invalid":s(N).name!==null&&!s(Yt)||s(tt)}]),type:"text",placeholder:"New instance"},null,10,Cn),[[E,s(N).name]]),v(t("small",Mn,"Repeated instance name",512),[[A,s(tt)]]),e[107]||(e[107]=t("small",{class:"d-block"}," Instance name must be at least 3 characters long, no special characters. Only one whitespace between characters. ",-1))])])])])]),_:1},8,["show"]),n(L,{ref_key:"editProcessModalRef",ref:xo,show:s(lt),header:{title:"Edit process",theme:"blue"},type:"confirmation",modalClass:"modal-lg",onCancel:e[12]||(e[12]=()=>nt())},{beforeFooter:p(()=>[s(ke)===1?v((m(),_("input",{key:0,class:"form-control w-50",type:"text",placeholder:"Type the process name to confirm deletion","onUpdate:modelValue":e[9]||(e[9]=l=>T(Te)?Te.value=l:null)},null,512)),[[E,s(Te)]]):h("",!0),t("button",{class:"btn btnErrorBorderLight",onClick:e[10]||(e[10]=l=>xa()),disabled:s(ke)===1&&s(Te)!==s(c).name||s(i).deletingProcess},[s(i).deletingProcess?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),f(" "+w(s(ke)===1?"Confirm deletion":"Delete process"),1)],8,Fn)]),afterFooter:p(()=>[t("button",{class:"btn btnInfoBorderLight",onClick:e[11]||(e[11]=l=>Eo()),disabled:!s(Mo)||s(i).editingProcess||s(i).deletingProcess},[s(i).editingProcess?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[114]||(e[114]=f(" Save "))],8,Bn)]),default:p(()=>[t("div",In,[t("div",Ln,[t("label",Rn,[e[111]||(e[111]=f("Name ")),n(a,{icon:["fas","circle-question"],title:"Process name must be at least 3 characters long, no special characters. Only one whitespace between characters."})]),v(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>s(U).name=l),type:"text",class:I(["form-control",{"is-invalid":!s(Gt)||s(at)}]),placeholder:"Name"},null,2),[[E,s(U).name]]),s(at)?(m(),_("small",Sn,"Repeated process name")):h("",!0)])]),t("div",Vn,[t("div",Tn,[e[112]||(e[112]=t("label",{class:"form-label"},"Description",-1)),v(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=l=>s(U).description=l),class:"form-control",placeholder:"Description"},null,512),[[E,s(U).description]])])]),t("div",An,[t("div",Pn,[e[113]||(e[113]=t("label",{class:"form-label"},"Token",-1)),t("div",Un,[v(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>s(U).token=l),type:"text",class:"form-control",placeholder:"Token",readonly:""},null,512),[[E,s(U).token]]),t("button",{onClick:e[8]||(e[8]=l=>s(wl)(s(U).token)),class:"btn btnSecondaryBorderLight",type:"button"},[n(a,{icon:["fas","copy"]}),v(t("small",$n,"Copied!",512),[[A,s(yt)]])])])])])]),_:1},8,["show"]),n(L,{ref_key:"editMembersModalRef",ref:Lo,show:s(it),header:{title:"Members",theme:"blue"},type:"confirmation",modalClass:"modal-md",onCancel:e[15]||(e[15]=()=>Jt())},{afterFooter:p(()=>{var l;return[t("button",{class:"btn btnInfoBorderLight",onClick:e[14]||(e[14]=g=>So()),disabled:s(i).editingMembers||((l=s(H))==null?void 0:l.length)===0},[s(i).editingMembers?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[116]||(e[116]=f(" Save "))],8,Wn)]}),default:p(()=>[t("div",Nn,[t("div",Dn,[e[115]||(e[115]=t("label",{class:"form-label"},"Users",-1)),n(s(qe),{modelValue:s(H),"onUpdate:modelValue":e[13]||(e[13]=l=>T(H)?H.value=l:H=l),options:s(xe),multiple:!0,taggable:!0,"close-on-select":!0,placeholder:"Select an user",label:"name","track-by":"name"},{tag:p(({option:l,remove:g})=>[t("span",{class:I(["multiselect__tag",{"bg-warning":l.isAdmin,"bg-success":!l.isAdmin}])},[t("span",On,w(l.name),1),t("i",{tabindex:"1",class:"multiselect__tag-icon cursor-pointer",onClick:on(P=>g(l),["stop"])},null,8,jn)],2)]),_:1},8,["modelValue","options"])])]),e[117]||(e[117]=t("div",{class:"row"},[t("div",{class:"col-4 align-self-center"},[t("img",{class:"img-fluid",src:"/img/add_member.png"})]),t("div",{class:"col-8"},[t("h4",{class:"mt-4"}," Select the users who will have the permissions to access the process and modify it. ")])],-1))]),_:1},8,["show"]),n(L,{ref_key:"avatarModalRef",ref:Ea,show:s(Vt),header:{title:"Edit avatar",theme:"blue"},type:"confirmation",modalClass:"modal-md",onCancel:e[19]||(e[19]=()=>Vs())},{afterFooter:p(()=>[t("button",{class:"btn btnInfoBorderLight",onClick:e[18]||(e[18]=l=>Ra()),disabled:!s(La)||s(i).editingAvatar},[s(i).editingAvatar?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[121]||(e[121]=f(" Save "))],8,Zn)]),default:p(()=>[t("div",zn,[t("div",Kn,[n(d,{id:"typeRobot",modelValue:s(M).type,"onUpdate:modelValue":e[16]||(e[16]=l=>s(M).type=l),value:1,"unchecked-value":0},{default:p(()=>[t("strong",null,[e[118]||(e[118]=f(" Is Assistant? ")),n(a,{icon:["fas","circle-question"],title:"An assistant is a kind of robot that notifies the user when a task is started in the instance."})])]),_:1},8,["modelValue"])])]),t("div",Xn,[t("div",Yn,[t("label",Gn,[e[119]||(e[119]=f("Assistant Name ")),n(a,{icon:["fas","circle-question"],title:"Assistant name must be at least 3 characters long, no special characters. Only one whitespace between characters."})]),v(t("input",{"onUpdate:modelValue":e[17]||(e[17]=l=>s(M).assistant_name=l),disabled:s(M).type!==1,type:"text",class:I(["form-control",{"is-invalid":s(M).assistant_name!==null&&!s(Tt)&&s(M).type==1}]),placeholder:"Enter assistant name"},null,10,Jn),[[E,s(M).assistant_name]])]),t("div",Hn,[e[120]||(e[120]=t("label",{class:"form-label d-block"},"Assistant Avatar",-1)),v(t("img",{src:`${s(M).assistant_avatar}`,alt:"avatar",class:I({"opacity-50":s(M).type!==1})},null,10,qn),[[A,s(M).assistant_avatar]]),v(n(a,{icon:"fa-solid fa-user-astronaut",class:I(["fa-6x",{"text-secondary":s(M).type!==1,"text-primary":s(M).type===1}])},null,8,["class"]),[[A,!s(i).settingAvatar&&!s(M).assistant_avatar]]),v(n(a,{icon:"fa-solid fa-spinner",spin:"",class:"fa-6x text-secondary"},null,512),[[A,s(i).settingAvatar]])])])]),_:1},8,["show"]),n(L,{ref_key:"editRobotModalRef",ref:Ao,show:s(rt),header:{title:"Edit robot",theme:"blue"},type:"confirmation",modalClass:"modal-lg",onCancel:e[25]||(e[25]=()=>dt())},{beforeFooter:p(()=>[v(t("button",{class:"btn btn-secondary me-auto",onClick:e[23]||(e[23]=l=>zo())}," Robot history ",512),[[A,s(q).length>0]])]),afterFooter:p(()=>[t("button",{class:"btn btnInfoBorderLight",onClick:e[24]||(e[24]=l=>$o()),disabled:!s(Do)||s(i).editingRobot},[s(i).editingRobot?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[126]||(e[126]=f(" Save "))],8,oi)]),default:p(()=>[t("div",Qn,[t("div",ei,[e[122]||(e[122]=t("label",{class:"form-label"}," Robot name ",-1)),v(t("input",{"onUpdate:modelValue":e[20]||(e[20]=l=>s(R).name=l),type:"text",class:I(["form-control",{"is-invalid":!s(qt)}]),placeholder:"Robot name"},null,2),[[E,s(R).name]]),e[123]||(e[123]=t("small",null," Robot name must be at least 3 characters long, alphanumeric and whitespaces only. ",-1))]),t("div",ti,[e[124]||(e[124]=t("label",{class:"form-label"}," Start robot name ",-1)),v(t("input",{"onUpdate:modelValue":e[21]||(e[21]=l=>s(R).startbot=l),type:"text",class:"form-control",placeholder:"Start robot name"},null,512),[[E,s(R).startbot]])]),t("div",si,[e[125]||(e[125]=t("label",{class:"form-label"}," Upload DB ",-1)),t("input",{ref_key:"robotModalFile",ref:Ht,onChange:e[22]||(e[22]=l=>Fo(l)),type:"file",accept:".db,.zip",class:"form-control",placeholder:"Uplad DB"},null,544)])]),e[127]||(e[127]=t("div",{class:"row"},[t("div",{class:"col-4 align-self-center"},[t("img",{class:"img-fluid",src:"/img/2792102.jpg"})]),t("div",{class:"col-8 d-flex flex-column justify-content-center"},[t("h4",{class:""},[f(" Add a process and load a robot to run in one or more instances. "),t("br"),f(" You can load a robot by exporting to DB production or a DB project. ")])])],-1))]),_:1},8,["show"]),n(L,{ref_key:"robotHistoryModalRef",ref:Wo,show:s(ut),header:{title:"Robot history",theme:"dark"},type:"confirmation",modalClass:"modal-lg",onCancel:e[28]||(e[28]=()=>Uo())},{default:p(()=>[n(V,{items:s(q),fields:[{key:"robot_version",label:"Version"},{key:"type",label:"Type",width:"1%"},{key:"size",label:"Size (Bytes)",width:"1%"},{key:"Etag",label:"MD5",thStyle:"width: 1%"},{key:"actions",label:"Actions",thStyle:"width: 1%"}],"tbody-tr-class":ta,"per-page":s(Me),"current-page":s(Be),busy:!1},{"cell(type)":p(l=>[t("span",null,w(l.item.type==="application/zip"?"zip":"db"),1)]),"cell(actions)":p(l=>[t("div",li,[t("form",{action:`${s(Ut)}/process/robots/history/download`,method:"post",target:"_blank",style:{display:"inline"}},[t("input",{type:"hidden",name:"process_token",value:l.item.process_token},null,8,ni),t("input",{type:"hidden",name:"robot_version",value:l.item.robot_version},null,8,ii),t("input",{type:"hidden",name:"type",value:l.item.type},null,8,ri),t("input",{type:"hidden",name:"token",value:s(fo)},null,8,di),t("button",ui,[n(a,{icon:"fa-solid fa-download"})])],8,ai),l.index!==0?(m(),_("form",ci,[t("input",{type:"hidden",name:"process_token",value:l.item.process_token},null,8,mi),t("input",{type:"hidden",name:"robot_version",value:l.item.robot_version},null,8,pi),t("input",{type:"hidden",name:"robot_name",value:s(R).name},null,8,fi),t("input",{type:"hidden",name:"robot_start",value:s(R).startbot},null,8,vi),n(k,{size:"xs",variant:"warning",onClick:g=>jo(l.item),title:"Make main version"},{default:p(()=>[n(a,{icon:["fas","crown"]})]),_:2},1032,["onClick"])])):h("",!0)])]),_:1},8,["items","per-page","current-page"]),n($,{class:"float-end",modelValue:s(Me),"onUpdate:modelValue":e[26]||(e[26]=l=>T(Me)?Me.value=l:null),style:{width:"65px"},options:[5,10,15,20]},null,8,["modelValue"]),n(de,{class:"mt-2",modelValue:s(Be),"onUpdate:modelValue":e[27]||(e[27]=l=>T(Be)?Be.value=l:null),"per-page":s(Me),"total-rows":s(To),"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last"},null,8,["modelValue","per-page","total-rows"])]),_:1},8,["show"]),n(L,{ref_key:"xperienceModalRef",ref:Ko,show:s(ct),header:{title:"Set Xperience form",theme:"blue"},type:"confirmation",modalClass:"modal-md",onCancel:e[31]||(e[31]=()=>Qt())},{afterFooter:p(()=>[t("button",{class:"btn btnInfoBorderLight",onClick:e[30]||(e[30]=l=>Yo()),disabled:s(i).editingXperience},[s(i).editingXperience?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[129]||(e[129]=f(" Save "))],8,yi)]),default:p(()=>[t("div",bi,[t("div",gi,[e[128]||(e[128]=t("label",{class:"form-label"},"Form",-1)),n(s(qe),{modelValue:s(se),"onUpdate:modelValue":e[29]||(e[29]=l=>T(se)?se.value=l:se=l),options:s(Ce),"close-on-select":!0,placeholder:"Select a form",label:"name","track-by":"name","preselect-first":!0,name:"lpignore"},null,8,["modelValue","options"])])]),e[130]||(e[130]=t("div",{class:"row"},[t("div",{class:"col-4 align-self-center"},[t("img",{class:"img-fluid",src:"/img/Xperience.svg"})]),t("div",{class:"col-8"},[t("h4",{class:"mt-4"}," Select a form to trigger the process when you receive some raw queue. ")])],-1))]),_:1},8,["show"]),n(L,{ref_key:"launchBotModalRef",ref:Jo,show:s(mt),header:{title:"Set trigger bot",theme:"blue"},type:"confirmation",modalClass:"modal-md",onCancel:e[34]||(e[34]=()=>es())},{afterFooter:p(()=>[t("button",{class:"btn btnInfoBorderLight",onClick:e[33]||(e[33]=l=>Qo()),disabled:s(i).editingLaunchBot},[s(i).editingLaunchBot?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[132]||(e[132]=f(" Save "))],8,wi)]),default:p(()=>[t("div",ki,[t("div",hi,[e[131]||(e[131]=t("label",{class:"form-label"},"Process",-1)),n(s(qe),{modelValue:s(ae),"onUpdate:modelValue":e[32]||(e[32]=l=>T(ae)?ae.value=l:ae=l),options:s(Zo),"close-on-select":!0,placeholder:"--Select a process--",label:"name","track-by":"id"},null,8,["modelValue","options"])])]),e[133]||(e[133]=t("div",{class:"row mt-2"},[t("div",{class:"col-4 align-self-center"},[t("img",{class:"img-fluid",src:"/img/Xperience.svg"})]),t("div",{class:"col-8 d-flex flex-column justify-content-center"},[t("h4",{class:"mt-4"}," Select another process to start when the instances finish. ")])],-1))]),_:1},8,["show"]),n(L,{ref_key:"alertsModalRef",ref:tl,show:s(pt),header:{title:"Edit process alerts email",theme:"blue"},type:"confirmation",modalClass:"modal-md",onCancel:e[38]||(e[38]=()=>ft())},{afterFooter:p(()=>[t("button",{class:"btn btnInfoBorderLight",onClick:e[37]||(e[37]=l=>ol()),disabled:!s(il)||s(i).editingAlerts},[s(i).editingAlerts?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[137]||(e[137]=f(" Save "))],8,Li)]),default:p(()=>[t("div",_i,[t("div",xi,[e[134]||(e[134]=t("label",{class:"form-label"}," Email ",-1)),t("div",Ci,[n(Je,{"input-id":"tags-basic",modelValue:s(X).email,"onUpdate:modelValue":e[35]||(e[35]=l=>s(X).email=l),class:"form-control"},null,8,["modelValue"]),t("button",{onClick:al,class:"input-group-text btnErrorBorderLight",disabled:s(i).deletingAlerts},[s(i).deletingAlerts?(m(),y(a,{key:0,icon:["fas","spinner"],style:{color:"#fff"},spin:""})):h("",!0),n(a,{style:{color:"#fff"},icon:"fa-solid fa-trash"})],8,Mi)]),e[135]||(e[135]=t("small",null,[f(" Email separated by comma: "),t("code",null," user1@mail.com,user2@mail.com")],-1))])]),t("div",Ei,[t("div",Ii,[e[136]||(e[136]=t("label",{class:"form-label"}," Minutes ",-1)),v(t("input",{"onUpdate:modelValue":e[36]||(e[36]=l=>s(X).minutes=l),type:"number",class:"form-control",min:"0"},null,512),[[E,s(X).minutes]])])])]),_:1},8,["show"]),n(L,{ref_key:"backupModalRef",ref:rl,show:s(vt),header:{title:"Backup instance",theme:"blue"},type:"confirmation",modalClass:"modal-md",onCancel:e[42]||(e[42]=()=>ts())},{afterFooter:p(()=>[t("button",{class:"btn btnInfoBorderLight",onClick:e[41]||(e[41]=l=>ul()),disabled:!s(ml)||s(i).editingBackup},[s(i).editingBackup?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[141]||(e[141]=f(" Save "))],8,Pi)]),default:p(()=>[t("div",Ri,[t("div",Si,[e[139]||(e[139]=t("label",{class:"form-label"}," Select instance ",-1)),v(t("select",{"onUpdate:modelValue":e[39]||(e[39]=l=>s(Y).instance=l),class:"form-select"},[e[138]||(e[138]=t("option",{value:null},"-- Select --",-1)),(m(!0),_(ue,null,he(s(c).instances,l=>(m(),_("option",{value:l.id},w(l.name),9,Vi))),256))],512),[[we,s(Y).instance]])])]),t("div",Ti,[t("div",Ai,[e[140]||(e[140]=t("label",{class:"form-label"}," Minutes to activate ",-1)),v(t("input",{"onUpdate:modelValue":e[40]||(e[40]=l=>s(Y).minutes=l),type:"number",class:"form-control",min:"0"},null,512),[[E,s(Y).minutes]])])])]),_:1},8,["show"]),n(L,{ref:"robotExecutionModalRef ",show:s(kt),header:{title:s(fe).header.title,theme:s(fe).header.theme},type:"confirmation",modalClass:"modal-sm",onCancel:e[43]||(e[43]=()=>_l())},{default:p(()=>[t("div",Ui,[t("div",$i,[t("h5",Fi,w(s(fe).body),1),f(" "+w(s(fe).title),1)])])]),_:1},8,["show","header"]),n(L,{ref_key:"controlRoomModalRef",ref:sa,show:s(Mt),header:{title:"Control Room",theme:"blue"},type:"empty",modalClass:"modal-lg",bkdrp:"static"},{afterFooter:p(()=>[t("button",{ref:"cancelButton",type:"button",class:"btn btnSecondaryBorderLight rounded-lg float-end",onClick:e[51]||(e[51]=l=>_s())}," Close ",512),t("button",{class:"btn btnInfoBorderLight",onClick:e[52]||(e[52]=l=>pa()),disabled:s(ee)},[s(ee)?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[142]||(e[142]=f(" Save "))],8,Gi)]),default:p(()=>[t("div",Bi,[t("div",Ni,[n(Ps,null,{default:p(()=>[n(Pe,{class:"mt-3 mb-2"},{default:p(()=>[v(n(s(qe),{style:{width:"calc(100% - 36px)"},modelValue:s(le),"onUpdate:modelValue":e[44]||(e[44]=l=>T(le)?le.value=l:null),options:s(aa),placeholder:"Select a process user email","tag-placeholder":"Add new email",onTag:da,taggable:!0,multiple:!1},null,8,["modelValue","options"]),[[A,!s(j)]]),v(n(Ae,{list:"user-emails-suggestion",modelValue:s(z),"onUpdate:modelValue":e[45]||(e[45]=l=>T(z)?z.value=l:null),placeholder:"edit a process user email",class:I({"is-invalid":ia(s(z))})},null,8,["modelValue","class"]),[[A,s(j)]]),n(He,null,{default:p(()=>{var l,g;return[v(t("button",{class:"btn btnSuccessBorderLight",onClick:ra,disabled:((l=s(le))==null?void 0:l.trim())===""||s(ee)},[n(a,{icon:["fas","plus"]})],8,Di),[[A,!s(j)]]),v(t("button",{disabled:((g=s(z))==null?void 0:g.length)===0||!Lt(s(z))||Cs(s(z))||s(ee),class:"btn btnInfoBorderLight",onClick:ca},[n(a,{icon:["fas","save"]})],8,Oi),[[A,s(j)]]),v(t("button",{class:"btn btnErrorBorderLight",onClick:e[46]||(e[46]=P=>Ms())},[n(a,{icon:["fas","times"]})],512),[[A,s(j)]])]}),_:1})]),_:1})]),_:1}),t("div",null,[n(Ps,{label:"Permissions"},{default:p(()=>[n(Ta,{modelValue:s(te),"onUpdate:modelValue":e[47]||(e[47]=l=>T(te)?te.value=l:null),options:Xe},null,8,["modelValue"])]),_:1})])]),t("div",ji,[n(Pe,{class:"mt-3"},{append:p(()=>[n(Aa,null,{default:p(()=>[n(a,{icon:["fas","search"]})]),_:1})]),default:p(()=>[n(Ae,{modelValue:s(Ve),"onUpdate:modelValue":e[48]||(e[48]=l=>T(Ve)?Ve.value=l:null),placeholder:"Search by email"},null,8,["modelValue"])]),_:1}),n(V,{items:s(xs),fields:[{key:"email",label:"Email"},{key:"permissions",label:"Permissions",width:"1%"},{key:"actions",label:"",thStyle:"width: 1%"}],"tbody-tr-class":ea,"per-page":s(Se),"current-page":s(Ye),busy:s(ee)},{"table-busy":p(()=>[t("div",Wi,[n(a,{icon:["fas","spinner"],spin:"",size:"2xl"})])]),"cell(email)":p(l=>[t("span",zi,w(l.item.email),1)]),"cell(permissions)":p(l=>[(m(!0),_(ue,null,he(Object.keys(l.item.permissions),g=>v((m(),y(Pa,{pill:"",variant:"success",class:"me-1"},{default:p(()=>[f(w(g),1)]),_:2},1536)),[[A,l.item.permissions[g]]])),256))]),"cell(actions)":p(l=>[t("div",Ki,[t("button",{class:"btn btnInfoBorderLight btn-xs",onClick:g=>ua(l.item.email,l.item.permissions)},[n(a,{icon:["fas","edit"]})],8,Xi),t("button",{class:"btn btnErrorBorderLight btn-xs",disabled:s(j),onClick:g=>ma(l.item)},[n(a,{icon:["fas","trash"]})],8,Yi)])]),_:1},8,["items","per-page","current-page","busy"]),v(n($,{class:"float-end",modelValue:s(Se),"onUpdate:modelValue":e[49]||(e[49]=l=>T(Se)?Se.value=l:null),style:{width:"65px"},options:[5,10,15,20]},null,8,["modelValue"]),[[A,s(It)>0]]),v(n(de,{class:"mt-2",modelValue:s(Ye),"onUpdate:modelValue":e[50]||(e[50]=l=>T(Ye)?Ye.value=l:null),"per-page":s(Se),"total-rows":s(It),"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last"},null,8,["modelValue","per-page","total-rows"]),[[A,s(It)>0]])])])]),_:1},8,["show"]),n(L,{ref_key:"editNameModalRef",ref:Cl,show:s(ht),header:{title:"Edit instance name",theme:"blue"},type:"confirmation",modalClass:"modal-md",onCancel:e[55]||(e[55]=()=>cs())},{afterFooter:p(()=>[t("button",{class:"btn btnInfoBorderLight",onClick:e[54]||(e[54]=l=>Ml()),disabled:!s(ms)||s(i).editingName},[s(i).editingName?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[145]||(e[145]=f(" Edit "))],8,Zi)]),default:p(()=>[t("div",Ji,[t("div",Hi,[e[143]||(e[143]=t("label",{class:"form-label"}," Name ",-1)),v(t("input",{"onUpdate:modelValue":e[53]||(e[53]=l=>T(Q)?Q.value=l:null),type:"text",class:I(["form-control",{"is-invalid":!s(ms)||s(wt)}]),placeholder:"Name"},null,2),[[E,s(Q)]]),s(wt)?(m(),_("small",qi,"Repeated instance name")):h("",!0),e[144]||(e[144]=t("small",null," Instance name must be at least 3 characters long, no special characters. Only one whitespace between characters. ",-1))])])]),_:1},8,["show"]),n(L,{ref_key:"unlinkInstanceModalRef",ref:Il,show:s(_t),header:{title:"Unlink instance",theme:"red"},type:"confirmation",modalClass:"modal-md",onCancel:e[57]||(e[57]=()=>fs())},{afterFooter:p(()=>[t("button",{class:"btn btnErrorBorderLight",onClick:e[56]||(e[56]=l=>Ll()),disabled:s(i).unlinkingInstance},[s(i).unlinkingInstance?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[149]||(e[149]=f(" Unlink "))],8,sr)]),default:p(()=>{var l;return[t("div",Qi,[t("div",er,[t("h3",tr,[e[146]||(e[146]=f("Are you sure you want to unlink ")),t("strong",null,w((l=s(u))==null?void 0:l.name),1),e[147]||(e[147]=f(" instance from process ")),t("strong",null,w(s(c).name),1),e[148]||(e[148]=f("? "))])])])]}),_:1},8,["show"]),n(L,{ref_key:"logsModalRef",ref:Vl,show:s(xt),header:{title:`Logs: ${(Us=s(u))==null?void 0:Us.name} last execution. Showing last 100 lines of execution log`,theme:"dark"},type:"confirmation",button:"Close",modalClass:"modal-lg",onCancel:e[60]||(e[60]=()=>Pl())},{afterFooter:p(()=>{var l;return[t("button",{type:"button",disabled:!s(c).last_robot||s(i).loadingLogs||((l=s(oe))==null?void 0:l.trim())===""||!s(oe),class:"btn btnDarkBorderLight",onClick:e[58]||(e[58]=g=>Al())},[s(i).loadingLogs?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),n(a,{icon:"fa-solid fa-download"}),e[150]||(e[150]=f(" Download "))],8,rr),t("button",{class:"btn btnSuccessBorderLight me-1",disabled:s(i).loadingLogs,onClick:e[59]||(e[59]=g=>bs())},[s(i).loadingLogs?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[151]||(e[151]=f(" Refresh "))],8,dr)]}),default:p(()=>[s(i).loadingLogs?(m(),_("div",or,[t("div",lr,[n(a,{icon:"fas fa-spinner",spin:"",size:"2xl"})])])):(m(),_("div",ar,[t("div",nr,[v(t("textarea",{id:"logs_",class:"line-break w-100 log language-md hljs",disabled:""},w(s(oe)),513),[[A,s(oe)!=""]]),v(t("textarea",ir,"No recorded logs",512),[[A,s(oe)==""]])])]))]),_:1},8,["show","header"]),n(L,{ref_key:"customLogsModalRef",ref:Ul,show:s(Ct),header:{title:`Custom logs: ${($s=s(c))==null?void 0:$s.name}`,theme:"dark"},type:"confirmation",button:"Close",modalClass:"modal-xl",onCancel:e[67]||(e[67]=()=>Wl())},{beforeFooter:p(()=>[t("button",{class:"btn btnErrorBorderLight",onClick:e[64]||(e[64]=l=>Bl()),disabled:s(ne)===1&&s(ye)!==s(u).name||s(i).deletingAllCustomLogs||s(ge).length<1},[s(i).deletingAllCustomLogs?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),f(" "+w(s(ne)===1?"Confirm":"Delete all logs"),1)],8,hr),s(ne)===1?v((m(),_("input",{key:0,class:"form-control w-40",type:"text",placeholder:"Type the instance name to confirm deletion","onUpdate:modelValue":e[65]||(e[65]=l=>T(ye)?ye.value=l:null)},null,512)),[[E,s(ye)]]):h("",!0),t("button",{class:"btn btnDarkBorderLight",onClick:e[66]||(e[66]=l=>We(!1)),disabled:s(i).loadingAllLogs},[s(i).loadingAllLogs?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[154]||(e[154]=f(" Load all "))],8,wr)]),default:p(()=>[s(i).loadingCustomLogs||s(i).loadingAllLogs?(m(),_("div",ur,[t("div",cr,[n(a,{icon:"fas fa-spinner",spin:"",size:"2xl"})])])):s(ge).length<1?(m(),_("div",mr,e[152]||(e[152]=[t("div",{class:"col"},[t("div",{class:"alert alert-warning show fade m-0"}," No logs found ")],-1)]))):(m(),_("div",pr,[t("div",fr,[t("div",vr,[e[153]||(e[153]=t("label",{for:"customLogsType",class:"form-label"},"Type",-1)),v(t("select",{"onUpdate:modelValue":e[61]||(e[61]=l=>T(Re)?Re.value=l:null),class:"form-select",id:"customLogsType"},[(m(),_(ue,null,he(zl,l=>t("option",{value:l},w(l),9,br)),64))],512),[[we,s(Re)]])])]),t("div",gr,[t("div",yr,[n(V,{items:s(Kl),fields:[{key:"type",label:"Type",thStyle:"width: 10%"},{key:"log",label:"Log",thStyle:"width: 70%",tdClass:"text-break"},{key:"created_at",label:"Date"},{key:"actions",label:"",thStyle:"width: 1px"}],"per-page":s(be),"current-page":s(Ie)},{"cell(log)":p(l=>{var g;return[t("span",null,w((g=l.item)==null?void 0:g.log),1)]}),"cell(actions)":p(l=>[t("button",{class:"btn btn-theme text-nowrap",disabled:s(i).deletingCustomLog,onClick:g=>Ol(l.item)},[s(i).deletingCustomLog?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),n(a,{icon:"fa-solid fa-trash"})],8,kr)]),"cell(type)":p(l=>{var g,P,K,J;return[t("span",{class:I(["badge",{"text-bg-warning":((g=l.item)==null?void 0:g.type)==="warning","text-bg-danger":((P=l.item)==null?void 0:P.type)==="error","text-bg-info":((K=l.item)==null?void 0:K.type)==="info"}])},w((J=l.item)==null?void 0:J.type),3)]}),_:1},8,["items","per-page","current-page"]),n($,{class:"float-end mt-2",modelValue:s(be),"onUpdate:modelValue":e[62]||(e[62]=l=>T(be)?be.value=l:be=l),style:{width:"65px"},options:[5,10,15,20]},null,8,["modelValue"]),n(de,{class:"mt-2",modelValue:s(Ie),"onUpdate:modelValue":e[63]||(e[63]=l=>T(Ie)?Ie.value=l:Ie=l),"per-page":s(be),"total-rows":s($l),"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last"},null,8,["modelValue","per-page","total-rows"])])])]))]),_:1},8,["show","header"]),n(L,{ref_key:"screenshotModalRef",ref:Xl,show:s(ze),header:{title:`${(Fs=s(u))==null?void 0:Fs.name} last screenshot`,theme:"dark"},type:"confirmation",button:"Close",modalClass:"modal-xl",onCancel:e[69]||(e[69]=()=>Yl())},{afterFooter:p(()=>[t("a",{href:`data:image/png;base64,${s(ie)}`,class:"btn btnDarkBorderLight text-uppercase",download:""},[n(a,{icon:"fa-solid fa-download"})],8,Er),t("button",{class:"btn btnSuccessBorderLight ms-1",disabled:s(i).loadingScreenshot,onClick:e[68]||(e[68]=l=>Gl())},[s(i).loadingScreenshot?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):(m(),y(a,{key:1,icon:"fa-solid fa-sync"})),f(" "+w(s(i).loadingScreenshot?"Taking screenshot...":"Take screenshot"),1)],8,Ir)]),default:p(()=>[t("div",_r,[t("div",xr,[s(ie)?(m(),_("img",{key:0,src:`data:image/png;base64,${s(ie)}`,alt:"",class:"w-100"},null,8,Cr)):h("",!0),s(ie)?h("",!0):(m(),_("h1",Mr,"No screenshot yet"))])])]),_:1},8,["show","header"]),n(L,{ref_key:"webhooksModalRef",ref:Hl,show:s(Ke),header:{title:"Instance webhook",theme:"blue"},type:"confirmation",modalClass:"modal-xl",onCancel:e[86]||(e[86]=()=>ql())},{afterFooter:p(()=>[t("button",{class:"btn btnInfoBorderLight",onClick:e[85]||(e[85]=l=>Zl()),disabled:s(i).editingWebhooks},[s(i).editingWebhooks?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[178]||(e[178]=f(" Save "))],8,ad)]),default:p(()=>[s(Ke)?(m(),_("div",Lr,[t("div",Rr,[e[161]||(e[161]=t("h5",null,"Webhook by robot start",-1)),t("div",Sr,[v(t("input",{type:"checkbox",class:"form-check-input",id:"webhook.play","onUpdate:modelValue":e[70]||(e[70]=l=>s(u).webhook.play.enabled=l)},null,512),[[Pt,s(u).webhook.play.enabled]]),e[155]||(e[155]=t("label",{class:"form-check-label",for:"webhook.play"},"Enabled",-1))]),t("div",Vr,[e[157]||(e[157]=t("label",{for:""},"Method",-1)),v(t("select",{class:"form-control","onUpdate:modelValue":e[71]||(e[71]=l=>s(u).webhook.play.method=l),disabled:!s(u).webhook.play.enabled},e[156]||(e[156]=[t("option",{value:""},"-- select method --",-1),t("option",{value:"get"},"GET",-1),t("option",{value:"post"},"POST",-1)]),8,Tr),[[we,s(u).webhook.play.method]])]),t("div",Ar,[e[158]||(e[158]=t("label",null,"URL:",-1)),v(t("input",{type:"url",class:"form-control","onUpdate:modelValue":e[72]||(e[72]=l=>s(u).webhook.play.url=l),disabled:!s(u).webhook.play.enabled,autocomplete:"off"},null,8,Pr),[[E,s(u).webhook.play.url]])]),t("div",Ur,[e[159]||(e[159]=t("label",null,"Headers:",-1)),v(t("textarea",{class:"form-control","onUpdate:modelValue":e[73]||(e[73]=l=>s(u).webhook.play.headers=l),disabled:!s(u).webhook.play.enabled},"                        ",8,$r),[[E,s(u).webhook.play.headers]])]),t("div",Fr,[e[160]||(e[160]=t("label",null,"Data:",-1)),v(t("textarea",{class:"form-control","onUpdate:modelValue":e[74]||(e[74]=l=>s(u).webhook.play.body=l),disabled:!s(u).webhook.play.enabled},"                        ",8,Br),[[E,s(u).webhook.play.body]])])]),t("div",Nr,[e[168]||(e[168]=t("h5",null,"Webhook by robot ended",-1)),t("div",Dr,[v(t("input",{type:"checkbox",class:"form-check-input",id:"webhook.stop","onUpdate:modelValue":e[75]||(e[75]=l=>s(u).webhook.stop.enabled=l)},null,512),[[Pt,s(u).webhook.stop.enabled]]),e[162]||(e[162]=t("label",{class:"form-check-label",for:"webhook.stop"},"Enabled",-1))]),t("div",Or,[e[164]||(e[164]=t("label",{for:""},"Method",-1)),v(t("select",{class:"form-control","onUpdate:modelValue":e[76]||(e[76]=l=>s(u).webhook.stop.method=l),disabled:!s(u).webhook.stop.enabled},e[163]||(e[163]=[t("option",{value:""},"-- select method --",-1),t("option",{value:"get"},"GET",-1),t("option",{value:"post"},"POST",-1)]),8,jr),[[we,s(u).webhook.stop.method]])]),t("div",Wr,[e[165]||(e[165]=t("label",null,"URL:",-1)),v(t("input",{type:"url",class:"form-control","onUpdate:modelValue":e[77]||(e[77]=l=>s(u).webhook.stop.url=l),disabled:!s(u).webhook.stop.enabled,autocomplete:"off"},null,8,zr),[[E,s(u).webhook.stop.url]])]),t("div",Kr,[e[166]||(e[166]=t("label",null,"Headers:",-1)),v(t("textarea",{class:"form-control","onUpdate:modelValue":e[78]||(e[78]=l=>s(u).webhook.stop.headers=l),disabled:!s(u).webhook.stop.enabled},"                        ",8,Xr),[[E,s(u).webhook.stop.headers]])]),t("div",Yr,[e[167]||(e[167]=t("label",null,"Data:",-1)),v(t("textarea",{class:"form-control","onUpdate:modelValue":e[79]||(e[79]=l=>s(u).webhook.stop.body=l),disabled:!s(u).webhook.stop.enabled},"                        ",8,Gr),[[E,s(u).webhook.stop.body]])])]),t("div",Jr,[e[175]||(e[175]=t("h5",null,"Webhook by custom log",-1)),t("div",Hr,[v(t("input",{type:"checkbox",class:"form-check-input",id:"webhook.log","onUpdate:modelValue":e[80]||(e[80]=l=>s(u).webhook.log.enabled=l)},null,512),[[Pt,s(u).webhook.log.enabled]]),e[169]||(e[169]=t("label",{class:"form-check-label",for:"webhook.log"},"Enabled",-1))]),t("div",qr,[e[171]||(e[171]=t("label",{for:""},"Method",-1)),v(t("select",{class:"form-control","onUpdate:modelValue":e[81]||(e[81]=l=>s(u).webhook.log.method=l),disabled:!s(u).webhook.log.enabled},e[170]||(e[170]=[t("option",{value:""},"-- select method --",-1),t("option",{value:"get"},"GET",-1),t("option",{value:"post"},"POST",-1)]),8,Zr),[[we,s(u).webhook.log.method]])]),t("div",Qr,[e[172]||(e[172]=t("label",null,"URL:",-1)),v(t("input",{type:"url",class:"form-control","onUpdate:modelValue":e[82]||(e[82]=l=>s(u).webhook.log.url=l),disabled:!s(u).webhook.log.enabled,autocomplete:"off"},null,8,ed),[[E,s(u).webhook.log.url]])]),t("div",td,[e[173]||(e[173]=t("label",null,"Headers:",-1)),v(t("textarea",{class:"form-control","onUpdate:modelValue":e[83]||(e[83]=l=>s(u).webhook.log.headers=l),disabled:!s(u).webhook.log.enabled},"                        ",8,sd),[[E,s(u).webhook.log.headers]])]),t("div",od,[e[174]||(e[174]=t("label",null,"Data:",-1)),v(t("textarea",{class:"form-control","onUpdate:modelValue":e[84]||(e[84]=l=>s(u).webhook.log.body=l),disabled:!s(u).webhook.log.enabled},"                        ",8,ld),[[E,s(u).webhook.log.body]])])])])):h("",!0),t("div",{class:"row mt-2"},[t("div",{class:"col"},[e[176]||(e[176]=t("small",{class:"d-block"}," The following variables can be used in the request ",-1)),t("code",null,w(wc)),e[177]||(e[177]=t("small",{class:"d-block"},[t("b",null,"data"),f(" will only available on custom logs webhook ")],-1))])])]),_:1},8,["show"]),n(L,{ref_key:"downloadIniModalRef",ref:va,show:s(Rt),header:{title:"Connect Instance to Orchestrator",theme:"dark"},type:"confirmation",modalClass:"modal-xl",onCancel:e[87]||(e[87]=()=>Ls())},{default:p(()=>{var l;return[n(dn,{instanceKey:(l=s(u))==null?void 0:l.key,onClose:Ls},null,8,["instanceKey"])]}),_:1},8,["show"]),n(L,{ref_key:"commandLineModalRef",ref:pl,show:s(bt),header:{title:"Instance Command Line",theme:"blue"},type:"confirmation",modalClass:"modal-md",onCancel:e[90]||(e[90]=()=>os())},{afterFooter:p(()=>[t("button",{class:"btn btnInfoBorderLight",onClick:e[89]||(e[89]=l=>fl()),disabled:s(i).editingCommandLine},[s(i).editingCommandLine?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[181]||(e[181]=f(" Save "))],8,dd)]),default:p(()=>[t("div",nd,[t("div",id,[t("div",rd,[e[179]||(e[179]=t("label",{class:"form-label",for:"command_line"},"Enter a Rocketbot Studio command line to send to the instance",-1)),v(t("input",{type:"text",class:"form-control",id:"command_line","onUpdate:modelValue":e[88]||(e[88]=l=>T(pe)?pe.value=l:null),placeholder:"--update-modules",autocomplete:"off"},null,512),[[E,s(pe)]]),e[180]||(e[180]=t("small",{class:"d-block"},"You can send any Rocketbot Studio command separated by space",-1))])])])]),_:1},8,["show"]),n(L,{ref_key:"executionTimeoutModalRef",ref:ga,show:s(St),header:{title:"Execution Timeout",theme:"blue"},type:"confirmation",modalClass:"modal-md",onCancel:e[95]||(e[95]=()=>Ss())},{afterFooter:p(()=>[t("button",{class:"btn btnInfoBorderLight",onClick:e[94]||(e[94]=l=>_a()),disabled:s(i).editingExecutionTimeout},[s(i).editingExecutionTimeout?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),e[185]||(e[185]=f(" Save "))],8,gd)]),default:p(()=>[t("div",ud,[t("div",cd,[t("div",md,[e[182]||(e[182]=t("label",{class:"form-label",for:"execution_timeout_minutes"},"Execution timeout minutes",-1)),v(t("input",{ref_key:"executionTimeoutInput",ref:ya,type:"number",class:"form-control",id:"execution_timeout_minutes",autocomplete:"off",min:0,step:1,"onUpdate:modelValue":e[91]||(e[91]=l=>s(S).execution_timeout=l)},null,512),[[E,s(S).execution_timeout,void 0,{number:!0}]])])])]),t("div",pd,[t("div",fd,[n(d,{ref_key:"notifyTimeoutCheckbox",ref:ka,id:"notify_checkbox",value:!0,"unchecked-value":!1,modelValue:s(S).notify_timeout,"onUpdate:modelValue":e[92]||(e[92]=l=>s(S).notify_timeout=l),disabled:s(S).execution_timeout<=0||!s(S).execution_timeout},{default:p(()=>e[183]||(e[183]=[f(" Should notify on timeout, to the users set in alert config? ")])),_:1},8,["modelValue","disabled"])])]),t("div",vd,[t("div",bd,[n(d,{ref_key:"stopExecutionCheckbox",ref:ha,id:"stop_execution_checkbox",value:!0,"unchecked-value":!1,modelValue:s(S).stop_timeout,"onUpdate:modelValue":e[93]||(e[93]=l=>s(S).stop_timeout=l),disabled:s(S).execution_timeout<=0||!s(S).execution_timeout},{default:p(()=>e[184]||(e[184]=[f(" Should stop execution? ")])),_:1},8,["modelValue","disabled"])])])]),_:1},8,["show"]),t("div",yd,[t("div",kd,[s(i).loadingBreadcrumb?(m(),_("div",hd,[n(a,{class:"mx-auto",icon:["fas","spinner"],spin:""})])):(m(),y(nn,{key:1,links:s(Fe)},null,8,["links"]))])]),t("div",wd,[t("button",{onClick:ot,disabled:s(c).instances.length>=((Ds=(Ns=(Bs=s(F).user)==null?void 0:Bs.entity)==null?void 0:Ns.options)==null?void 0:Ds.max_instances)||s(i).loadingProcess,class:"btn btn-lg d-block text-left btn-green btn-round text-uppercase"},[n(a,{icon:"fa-solid fa-link"}),e[186]||(e[186]=f(" Add or link instance "))],8,_d)]),t("div",xd,[(m(!0),_(ue,null,he(s(Va),l=>(m(),_("div",{class:I(["col-6 col-md-auto col-lg-auto d-flex justify-content-center mb-sm-2",{"d-none":(l==null?void 0:l.private)&&s(c).private!=1}])},[l.action?(m(),_("div",Cd,[t("div",{onClick:l.action,class:"left-panel process-option"},[t("div",Ed,[s(i).loadingProcess?(m(),y(a,{key:0,size:"2xl",style:{color:"#ffffff"},icon:["fas","spinner"],spin:""})):(m(),y(a,{key:1,icon:l.icon,size:"2xl",style:{color:"#ffffff"}},null,8,["icon"]))]),t("small",Id,w(l.text),1)],8,Md)])):l.href?(m(),y(Ua,{key:1,href:l.href,class:"card-noc"},{default:p(()=>[t("div",Ld,[t("div",Rd,[s(i).loadingProcess?(m(),y(a,{key:0,size:"2xl",style:{color:"#ffffff"},icon:["fas","spinner"],spin:""})):(m(),y(a,{key:1,icon:l.icon,size:"2xl",style:{color:"#ffffff"}},null,8,["icon"]))]),t("small",Sd,w(l.text),1)])]),_:2},1032,["href"])):h("",!0)],2))),256))]),t("div",Vd,[t("div",Td,[t("div",Ad,[n(rn,{title:"All instances"},{"create-button":p(()=>{var l,g,P;return[t("button",{disabled:s(c).instances.length>=((P=(g=(l=s(F).user)==null?void 0:l.entity)==null?void 0:g.options)==null?void 0:P.max_instances)||s(i).loadingProcess,onClick:ot,class:"pointer ms-2 btn btn-sm btnSuccessBorderLight"}," Add or link instance ",8,Pd)]}),"right-actions":p(()=>{var l,g,P,K,J;return[t("div",Ud,[((g=(l=s(c))==null?void 0:l.instances)==null?void 0:g.length)>0?(m(),_("div",$d,[t("button",{onClick:e[96]||(e[96]=()=>me.value="card"),class:I([{active:s(me)==="card"},"btn btn-sm btn-none btn-white btnSecondaryBorderLight"])},[n(a,{icon:"fa-solid fa-rectangle-list"})],2),t("button",{onClick:e[97]||(e[97]=()=>me.value="list"),class:I([{active:s(me)==="list"},"btn btn-sm btn-none btn-white btnSecondaryBorderLight"])},[n(a,{icon:"fa-solid fa-list"})],2)])):h("",!0),t("b",null,[e[187]||(e[187]=f(" Total ")),s(i).loadingProcess?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):(m(),_("span",Fd,w(s(c).instances.length),1)),f(" /"+w(((J=(K=(P=s(F).user)==null?void 0:P.entity)==null?void 0:K.options)==null?void 0:J.max_instances)||0),1)])])]}),_:1}),t("div",Bd,[s(et)?(m(),_("div",Nd,e[188]||(e[188]=[t("div",{class:"row"},[t("div",{class:"col"},[t("h4",null," You do not have permission to see the instances ")])],-1)]))):(m(),_("div",Dd,[s(c).instances.length===0&&!s(i).loadingProcess?(m(),_("div",Od,[t("div",jd,[t("div",Wd,[e[191]||(e[191]=t("h4",{class:"float-left mt-4 mr-2"},"Available instances:",-1)),t("h1",null,[t("span",zd,w(((Ws=(js=(Os=s(F).user)==null?void 0:Os.entity)==null?void 0:js.options)==null?void 0:Ws.max_instances)||0),1),f(" / "+w(((Xs=(Ks=(zs=s(F).user)==null?void 0:zs.entity)==null?void 0:Ks.options)==null?void 0:Xs.max_instances)||0),1)]),t("h4",null,[e[190]||(e[190]=f("You need to connect at least one instance to run this process ")),t("button",{onClick:ot,disabled:s(c).instances.length>=((Js=(Gs=(Ys=s(F).user)==null?void 0:Ys.entity)==null?void 0:Gs.options)==null?void 0:Js.max_instances)||s(i).loadingProcess,class:"btn btn-sm btnSuccessBorderLight text-uppercase"},[n(a,{icon:"fa-solid fa-link"}),e[189]||(e[189]=f(" Connect instance "))],8,Kd)])]),e[192]||(e[192]=t("div",{class:"col-md-2"},[t("img",{class:"img-fluid pt-5",src:"/img/538.jpg",alt:""})],-1))])])):h("",!0),s(i).loadingProcess?(m(),_("div",Xd,[n($a,{class:"mt-5",icon:["fas","spinner"],size:"2xl",spin:""})])):s(me)==="card"?(m(),_("div",Yd,[(m(!0),_(ue,null,he(s(c).instances,l=>{var g,P,K,J,Qs,eo,to,so,oo,lo,ao,no,io;return m(),_("div",Gd,[t("small",{class:I(["badge rounded-pill title-center shadow-1 text-white badge-dark pt-1",{"bg-success":l.status===2,"bg-danger":l.status===1,"bg-info":l.status===3,"bg-dark":l.status===0}])},w(as(l.status)),3),t("div",{class:I(["smallCard m-shadow mb-3",{"bg-secondary":l.pivot.backup===1}])},[t("div",{class:I(["card-header borderless pt-3",{"theme-bg3":((g=l==null?void 0:l.actual_status)==null?void 0:g.status)==1,"theme-bg4":((P=l==null?void 0:l.actual_status)==null?void 0:P.status)==2}])},[t("div",Jd,[t("h4",{class:I({"text-white":l.pivot.backup===1||((K=l==null?void 0:l.actual_status)==null?void 0:K.status)==1||((J=l==null?void 0:l.actual_status)==null?void 0:J.status)==2})},[["windows","win"].includes(l.os)?(m(),y(a,{key:0,icon:"fa-brands fa-windows",class:"me-1"})):h("",!0),l.os==="linux"?(m(),y(a,{key:1,icon:"fa-brands fa-linux",class:"me-1"})):h("",!0),l.os==="darwin"?(m(),y(a,{key:2,icon:"fa-brands fa-apple",class:"me-1"})):h("",!0),l.os==="docker"?(m(),y(a,{key:3,icon:"fa-brands fa-docker",class:"me-1"})):h("",!0),f(" "+w(ns(l.name,20))+" ",1),l.pivot.backup==1?(m(),_("small",{key:4,class:I({"text-white":l.pivot.backup===1||((Qs=l==null?void 0:l.actual_status)==null?void 0:Qs.status)==1||((eo=l==null?void 0:l.actual_status)==null?void 0:eo.status)==2})},w("  (Backup)"),2)):h("",!0)],2)]),t("div",Hd,[t("div",qd,[t("button",Zd,[n(a,{icon:"fa-solid fa-ellipsis"})]),t("div",Qd,[t("li",{class:"dropdown-item full-card",onClick:D=>us(l)},[t("span",null,[n(a,{icon:"fa-solid fa-pencil",class:"dropDownMenuIcon"}),e[193]||(e[193]=f(" Edit name "))])],8,eu),t("li",{class:"dropdown-item full-card",onClick:D=>ps(l)},[t("span",null,[n(a,{icon:"fa-solid fa-link-slash",class:"dropDownMenuIcon"}),e[194]||(e[194]=f(" Unlink "))])],8,tu),t("li",{class:"dropdown-item full-card",onClick:D=>vs(l)},[t("span",null,[n(a,{icon:"fa-solid fa-tag",class:"dropDownMenuIcon"}),e[195]||(e[195]=f(" Get logs "))])],8,su),t("li",{class:"dropdown-item full-card",onClick:D=>ks(l)},[t("span",null,[n(a,{icon:"fa-solid fa-list",class:"dropDownMenuIcon"}),e[196]||(e[196]=f(" Custom logs "))])],8,ou),t("li",{class:"dropdown-item full-card",onClick:D=>hs(l)},[t("span",null,[n(a,{icon:"fa-solid fa-image",class:"dropDownMenuIcon"}),e[197]||(e[197]=f(" View last Screenshot "))])],8,lu),t("li",{class:"dropdown-item full-card",onClick:D=>ws(l)},[t("span",null,[n(a,{icon:"fa-solid fa-link",class:"dropDownMenuIcon"}),e[198]||(e[198]=f(" Webhooks "))])],8,au),t("li",{class:"dropdown-item full-card",onClick:D=>Is(l)},[t("span",null,[n(a,{icon:"fa-solid fa-download",class:"dropDownMenuIcon"}),e[199]||(e[199]=f(" Connect to client "))])],8,nu),l.pivot.backup==1?(m(),_("li",{key:0,class:"dropdown-item full-card",onClick:D=>Es(l)},[t("span",null,[n(a,{icon:"fa-solid fa-ban",class:"dropDownMenuIcon"}),e[200]||(e[200]=f(" Remove as backup "))])],8,iu)):h("",!0),t("li",{class:"dropdown-item full-card",onClick:D=>ss(l)},[t("span",null,[n(a,{icon:"fa-solid fa-terminal",class:"dropDownMenuIcon"}),e[201]||(e[201]=f(" Set command line "))])],8,ru),t("li",{class:"dropdown-item full-card",onClick:D=>Rs(l)},[t("span",null,[n(a,{icon:"fa-solid fa-hourglass",class:"dropDownMenuIcon"}),e[202]||(e[202]=f(" Execution timeout "))])],8,du),t("button",{class:"dropdown-item full-card",onClick:D=>ls(l),disabled:Ne(l)},[t("span",{class:I({"text-light":Ne(l)})},[n(a,{icon:"fa-solid fa-stop",class:"dropDownMenuIcon"}),e[203]||(e[203]=f(" Stop framework "))],2)],8,uu),t("button",{class:"dropdown-item full-card",onClick:D=>Ts(l),disabled:s(c).type!==1},[t("span",{class:I({"text-light":s(c).type!==1})},[v(n(a,{icon:"fa-solid fa-spinner",spin:"",class:"dropDownMenuIcon"},null,512),[[A,o.testingNotification]]),n(a,{icon:"fa-solid fa-bell",class:"dropDownMenuIcon"}),e[204]||(e[204]=f(" Test notifications "))],2)],8,cu)])])])],2),t("div",mu,[t("div",pu,[t("div",fu,[t("small",vu,w(hl(l)),1)])]),t("div",null,[t("div",bu,[t("div",gu,[t("div",yu,[t("div",ku,[t("h3",hu,[e[205]||(e[205]=t("img",{src:"/img/ram.svg",class:"img-fluid ram mx-1"},null,-1)),f(" RAM: "+w(s(is)(l)),1)])]),t("div",wu,[t("span",_u,w(s(Z)(l).ram),1)])]),n(At,{variant:"rocketbot",value:(to=s(Z)(l))==null?void 0:to.ram,style:{"border-radius":"30px"}},null,8,["value"])])]),t("div",xu,[t("div",Cu,[e[206]||(e[206]=t("div",{class:"col-8"},[t("div",{class:"mb-2"},[t("img",{src:"/img/cpu.svg",class:"mw-30 d-inline"}),t("h6",{class:"d-inline"}," CPU: ")])],-1)),t("div",Mu,[t("span",Eu,w(s(Z)(l).cpu),1)])]),n(At,{variant:"rocketbot",value:(so=s(Z)(l))==null?void 0:so.cpu,style:{"border-radius":"30px"}},null,8,["value"])]),t("div",null,[t("div",Iu,[t("div",Lu,[t("div",Ru,[t("div",Su,[e[207]||(e[207]=t("img",{src:"/img/hdd.svg",class:"mw-30 d-inline"},null,-1)),t("h6",Vu," DISK: "+w(s(rs)(l)),1)])]),t("div",Tu,[t("span",Au,w(s(Z)(l).disk),1)])]),n(At,{variant:"rocketbot",value:(oo=s(Z)(l))==null?void 0:oo.disk,style:{"border-radius":"30px"}},null,8,["value"])])]),t("div",Pu,[t("h6",null,[e[208]||(e[208]=t("span",{class:"text-muted"},"Key:",-1)),f(" "+w(l.key)+" ",1),t("span",{onClick:D=>s(ds)(l.key),class:"rocket-text pointer"},[n(a,{icon:"fa-solid fa-copy"}),v(t("span",null,"Copied!",512),[[A,l.key===s(De)]])],8,Uu)]),t("span",$u,[e[209]||(e[209]=t("label",null,"Last Execution: ",-1)),t("b",Fu,w(l.last_execute),1)])])])]),t("div",Bu,[t("div",Nu,[t("div",Du,[t("button",{disabled:l.actual_status&&![0].includes((lo=l.actual_status)==null?void 0:lo.status)||!s(c).last_robot,onClick:D=>je(l,1),class:"btn btnSuccessBorderLight"},[l.actual_status&&![0].includes((ao=l.actual_status)==null?void 0:ao.status)?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):h("",!0),((no=l.actual_status)==null?void 0:no.status)===0?(m(),y(a,{key:1,icon:"fa-solid fa-play"})):h("",!0),e[210]||(e[210]=f(" PLAY "))],8,Ou),t("button",{class:"btn btnErrorBorderLight",disabled:((io=l.actual_status)==null?void 0:io.status)==0||!s(c).last_robot,onClick:D=>je(l,0)},[n(a,{icon:"fa-solid fa-stop"}),e[211]||(e[211]=f(" STOP "))],8,ju)])])])],2)])}),256))])):s(me)==="list"&&((qs=(Hs=s(c))==null?void 0:Hs.instances)==null?void 0:qs.length)>0?(m(),_("div",Wu,[t("div",zu,[t("div",Ku,[n(V,{items:(Zs=s(c))==null?void 0:Zs.instances,fields:[{key:"name",label:"Name"},{key:"key",label:"Key"},{key:"status",label:"Status"},{key:"cpu",label:"CPU"},{key:"ram",label:"RAM"},{key:"disk",label:"Disk"},{key:"backup",label:"Is backup",thStyle:"text-align: center"},{key:"running",label:"Is running",thStyle:"text-align: center"},{key:"last_execution",label:"Last execution"},{key:"execution",label:"Execution",thStyle:"width: 1%; text-align: center"},{key:"actions",label:"",thStyle:"width: 1%; text-align: center"}],"per-page":s(re),"current-page":s(Ge)},{"cell(name)":p(l=>[t("span",Xu,[["windows","win"].includes(l.item.os)?(m(),y(a,{key:0,icon:"fa-brands fa-windows"})):h("",!0),l.item.os==="linux"?(m(),y(a,{key:1,icon:"fa-brands fa-linux"})):h("",!0),l.item.os==="darwin"?(m(),y(a,{key:2,icon:"fa-brands fa-apple"})):h("",!0),l.item.os==="docker"?(m(),y(a,{key:3,icon:"fa-brands fa-docker"})):h("",!0)]),t("strong",null,w(ns(l.item.name,20)),1)]),"cell(key)":p(l=>[t("code",Yu,w(l.item.key),1),t("span",{onClick:g=>{var P;return s(ds)((P=l.item)==null?void 0:P.key)},class:"ms-1 rocket-text pointer"},[n(a,{icon:"fa-solid fa-copy"})],8,Gu),v(t("div",null,"Copied!",512),[[A,l.item.key===s(De)]])]),"cell(status)":p(l=>[t("small",{class:I(["text-white p-1 rounded",{"bg-success":l.item.status===2,"bg-danger":l.item.status===1,"bg-info":l.item.status===3,"bg-dark":l.item.status===0}])},w(as(l.item.status)),3)]),"cell(cpu)":p(l=>[t("div",null,[t("h6",Ju,w(s(Z)(l.item).cpu),1)])]),"cell(ram)":p(l=>[t("h6",Hu,[f(w(s(is)(l.item))+" / ",1),t("span",qu,w(s(Z)(l.item).ram),1)])]),"cell(disk)":p(l=>[t("h6",Zu,[f(w(s(rs)(l.item))+" / ",1),t("span",Qu,w(s(Z)(l.item).disk),1)])]),"cell(backup)":p(l=>[t("div",ec,[l.item.pivot.backup==1?(m(),y(a,{key:0,style:{color:"green"},class:"text-center",icon:["fas","check"]})):(m(),y(a,{key:1,style:{color:"red"},icon:["fas","xmark"]}))])]),"cell(running)":p(l=>{var g;return[t("div",tc,[[1,2].includes((g=l.item.actual_status)==null?void 0:g.status)?(m(),y(a,{key:0,style:{color:"green"},class:"text-center",icon:["fas","check"]})):(m(),y(a,{key:1,style:{color:"red"},icon:["fas","xmark"]}))])]}),"cell(last_execution)":p(l=>[t("span",sc,w(l.item.last_execute),1)]),"cell(execution)":p(l=>{var g,P,K;return[t("div",oc,[t("div",lc,[t("button",{disabled:l.item.actual_status&&![0].includes((g=l.item.actual_status)==null?void 0:g.status)||!s(c).last_robot,onClick:J=>je(l.item,1),class:"btn btn-none"},[l.item.actual_status&&![0].includes((P=l.item.actual_status)==null?void 0:P.status)?(m(),y(a,{key:0,icon:["fas","spinner"],spin:""})):(m(),y(a,{key:1,icon:"fa-solid fa-play",style:{color:"green"}}))],8,ac),t("button",{class:"btn btn-none me-2",disabled:((K=l.item.actual_status)==null?void 0:K.status)==0||!s(c).last_robot,onClick:J=>je(l.item,0)},[n(a,{icon:"fa-solid fa-stop",style:{color:"red"}})],8,nc)])])]}),"cell(actions)":p(l=>[t("a",ic,[n(a,{icon:["fas","ellipsis"]})]),t("ul",rc,[t("li",dc,[t("a",{class:"dropdown-item full-card",onClick:g=>us(l.item)},[t("span",null,[n(a,{icon:"fa-solid fa-pencil",class:"dropDownMenuIcon"}),e[212]||(e[212]=f(" Edit name "))])],8,uc),t("a",{class:"dropdown-item full-card",onClick:g=>ps(l.item)},[t("span",null,[n(a,{icon:"fa-solid fa-link-slash",class:"dropDownMenuIcon"}),e[213]||(e[213]=f(" Unlink "))])],8,cc),t("a",{class:"dropdown-item full-card",onClick:g=>vs(l.item)},[t("span",null,[n(a,{icon:"fa-solid fa-tag",class:"dropDownMenuIcon"}),e[214]||(e[214]=f(" Get logs "))])],8,mc),t("a",{class:"dropdown-item full-card",onClick:g=>ks(l.item)},[t("span",null,[n(a,{icon:"fa-solid fa-list",class:"dropDownMenuIcon"}),e[215]||(e[215]=f(" Custom logs "))])],8,pc),t("a",{class:"dropdown-item full-card",onClick:g=>hs(l.item)},[t("span",null,[n(a,{icon:"fa-solid fa-image",class:"dropDownMenuIcon"}),e[216]||(e[216]=f(" View last Screenshot "))])],8,fc),t("a",{class:"dropdown-item full-card",onClick:g=>ws(l.item)},[t("span",null,[n(a,{icon:"fa-solid fa-link",class:"dropDownMenuIcon"}),e[217]||(e[217]=f(" Webhooks "))])],8,vc),t("a",{class:"dropdown-item full-card",onClick:g=>Is(l.item)},[t("span",null,[n(a,{icon:"fa-solid fa-download",class:"dropDownMenuIcon"}),e[218]||(e[218]=f(" Connect to client "))])],8,bc),l.item.pivot.backup==1?(m(),_("a",{key:0,class:"dropdown-item full-card",onClick:g=>Es(l.item)},[t("span",null,[n(a,{icon:"fa-solid fa-ban",class:"dropDownMenuIcon"}),e[219]||(e[219]=f(" Remove as backup "))])],8,gc)):h("",!0),t("a",{class:"dropdown-item full-card",onClick:g=>ss(l.item)},[t("span",null,[n(a,{icon:"fa-solid fa-terminal",class:"dropDownMenuIcon"}),e[220]||(e[220]=f(" Set command line "))])],8,yc),t("a",{class:"dropdown-item full-card",onClick:e[98]||(e[98]=g=>Rs(o.instance))},[t("span",null,[n(a,{icon:"fa-solid fa-hourglass",class:"dropDownMenuIcon"}),e[221]||(e[221]=f(" Execution timeout "))])]),t("button",{class:"dropdown-item full-card",onClick:g=>ls(l.item),disabled:Ne(l.item)},[t("span",{class:I({"text-light":Ne(l.item)})},[n(a,{icon:"fa-solid fa-stop",class:"dropDownMenuIcon"}),e[222]||(e[222]=f(" Stop framework "))],2)],8,kc),t("button",{class:"dropdown-item full-card",onClick:e[99]||(e[99]=g=>Ts(o.instance)),disabled:s(c).type!==1},[t("span",{class:I({"text-light":s(c).type!==1})},[v(n(a,{icon:"fa-solid fa-spinner",spin:"",class:"dropDownMenuIcon"},null,512),[[A,o.testingNotification]]),n(a,{icon:"fa-solid fa-bell",class:"dropDownMenuIcon"}),e[223]||(e[223]=f(" Test notifications "))],2)],8,hc)])])]),_:1},8,["items","per-page","current-page"]),n($,{class:"float-end mt-2",modelValue:s(re),"onUpdate:modelValue":e[100]||(e[100]=l=>T(re)?re.value=l:null),style:{width:"65px"},options:[5,10,15,20],onChange:e[101]||(e[101]=l=>s(pn)(po,s(re)))},null,8,["modelValue"]),n(de,{class:"mt-2",modelValue:s(Ge),"onUpdate:modelValue":e[102]||(e[102]=l=>T(Ge)?Ge.value=l:null),"per-page":s(re),"total-rows":s(Fl),"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last"},null,8,["modelValue","per-page","total-rows"])])])])):h("",!0)]))])])])])],64)}}},Wc=bn(xc,[["__scopeId","data-v-bf5017aa"]]);export{Wc as default};
