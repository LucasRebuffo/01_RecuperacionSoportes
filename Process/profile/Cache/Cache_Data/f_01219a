import{g as ze,z as Ge,Y as We,h as He}from"./bootstrap-vue-next.667fb585.js";import{_ as Je}from"./nuxt-link.851df10c.js";import{e as Xe,D as Ye,r as p,g as Ke,f as D,h as Ze,i as et,o as i,c as P,b as d,j as t,a as s,w as u,x as g,y as A,d as c,t as f,k as w,v as V,F as ve,z as tt,n as E,p as N,l as R,E as st,q as at}from"./entry.5c5f6add.js";import{B as ot}from"./Breadcrumb.930ec479.js";import{_ as I}from"./ModalComponent.vue.58c1e7f2.js";import{f as M}from"./fetch-wrapper.d0af2f5c.js";import{_ as lt}from"./CardHeader.vue.6f5a0807.js";import{u as nt}from"./auth.store.db5a1ad4.js";import{s as rt,p as it}from"./perPageStorer.7342e74b.js";import{P as ge}from"./regexes.2f8688aa.js";import{g as dt}from"./cronFunctions.581e2658.js";import{_ as _e}from"./ToastComponent.vue.6c820df6.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./composables.671b84f7.js";const ct={class:"container-fluid"},ut=["disabled"],mt={class:"text-gray"},pt={class:"row"},ft={class:"col"},vt={class:"alert alert-secondary fade show"},gt={class:"row"},_t={class:"col-md-8"},bt={class:"col-md-4"},yt=["src"],wt={class:"row"},kt={class:"col-sm-4"},ht={class:"card shadow rounded mb-4"},Pt={class:"card-body"},xt={class:"fw-bold"},Ct={class:"row"},Dt={class:"col-md-12"},Tt={class:"card shadow rounded"},At={class:"card-body"},St={class:"text-uppercase"},Vt={class:"row"},Et={class:"col-md-6"},Nt={class:"form-group"},Rt={class:"form-label"},Mt={class:"col-md-6"},Ut={class:"form-group"},Bt={class:"row mt-2 pb-5"},Lt={class:"col-md-6"},Qt={class:"row"},$t={class:"col"},qt={class:"form-group"},It={class:"row mt-2"},Ft={class:"col-12"},Ot={class:"col-12 mt-2"},jt={class:"form-group"},zt={class:"form-label"},Gt=["disabled"],Wt={class:"col-12 mt-2"},Ht=["src"],Jt={class:"col-md-6"},Xt={class:"form-group"},Yt=["disabled"],Kt={class:"text-break"},Zt=["disabled"],es={class:"row"},ts={class:"col"},ss={class:"fixed-button active"},as=["disabled"],os={class:"row mt-2"},ls={class:"col"},ns={class:"card bigCard m-shadow"},rs={key:0,class:"ms-2 mt-2 text-muted"},is={class:"align-self-center"},ds={key:1},cs={class:"card-body"},us={class:"form-group"},ms=["readonly"],ps={key:0,class:"text-center"},fs={key:1,class:"table-responsive"},vs={class:"text-break"},gs={class:"text-center"},_s={class:"text-center"},bs={class:"text-center"},ys={class:"text-center"},ws={href:"#",class:"btn btn-default dropdown-toggle border border-dark","data-bs-toggle":"dropdown"},ks={class:"dropdown-menu dropdown-menu-end"},hs={class:"dropdown text-start"},Ps=["onClick"],xs=["onClick"],Cs=["onClick"],Ds=["onClick","disabled"],Ts=["onClick","disabled"],As=["onClick"],be="processesPage",Ss=5,zs=Xe({__name:"[project]",setup(Vs){const{$bootstrap:ye}=at(),we="/api",ke=Ye(),F=nt(),O=[{icon:["fas","house"],text:"",href:"/"},{text:"Project"}];let h=p({process:[]});const r=p({loadingProcesses:!1,changingProcessStatus:null,creatingProcess:!1,deletingProcess:!1,deletingQueues:!1,settingAvatar:!1}),j=p(""),z=p("danger"),y=(a,e,l)=>{j.value=a,z.value=e;let _=document.getElementById(l);new ye.Toast(_,{autohide:!0}).show()};Ke(()=>{C.value=rt(be,Ss),U()});let U=async()=>{var a;r.value.loadingProcesses=!0;try{await he(),Pe()}catch(e){y(((a=e==null?void 0:e.data)==null?void 0:a.message)||"Error fetching project","danger","mainToast")}r.value.loadingProcesses=!1},he=async()=>{const a=await M.post(`/project/${ke.params.project}`);h.value=(a==null?void 0:a.data)||{process:[]},h.value.process=h.value.process.map(e=>(e.last_robot&&"cron"in e.last_robot&&(e.last_robot.cron=JSON.parse(e.last_robot.cron)),e))};const Pe=()=>{var a;O[1].text=((a=h.value)==null?void 0:a.name)||"",O[1].active=!0};let B=p("");const ee=D(()=>(S.value=1,h.value.process.filter(a=>a.name.toLowerCase().includes(B.value.toLowerCase()))));let xe=async a=>{var e;try{const l=await M.post("/process/privateMode",{process_id:a.token});return{result:!0}}catch(l){return{result:!1,message:(e=l==null?void 0:l.data)==null?void 0:e.message}}},te=async a=>{r.value.changingProcessStatus=a.token;const e=await xe(a);e.result?(y("Process status changed successfully","success","modalsToast"),await U()):y((e==null?void 0:e.message)||"Error changing process status","danger","modalsToast"),r.value.changingProcessStatus=null},G=p(!1),v=p({instances:[]}),Ce=a=>{G.value=!0,v.value=a},De=()=>{G.value=!1,v.value={instances:[]}};const $=p(1),T=p(10),W=D(()=>{var a,e,l,_;return((_=(l=(e=(a=v.value)==null?void 0:a.last_robot)==null?void 0:e.cron)==null?void 0:l.cron)==null?void 0:_.length)||0});let q=p(null),Te=async a=>{var e,l;q.value=a.token;try{const _=await M.post("/process/robots/start",{process_id:a.token});y(((e=_==null?void 0:_.data)==null?void 0:e.message)||"Robots started on all instances","success","mainToast")}catch(_){y(((l=_==null?void 0:_.data)==null?void 0:l.message)||"Error starting robots","danger","mainToast")}q.value=null},C=p(5),S=p(1);const Ae=D(()=>ee.value.length);let H=p(!1),Se=p(null),Ve=a=>{var e;((e=a==null?void 0:a.queues)==null?void 0:e.length)!==0&&(v.value=a,H.value=!0)},se=()=>{H.value=!1,v.value={instances:[]}},Ee=async()=>{var a,e;r.value.deletingQueues=!0;try{const l=await M.post("/process/clearQueues",{token:v.value.token});y(((a=l==null?void 0:l.data)==null?void 0:a.message)||"Queues deleted","success","modalsToast"),se(),U()}catch(l){y(((e=l==null?void 0:l.data)==null?void 0:e.message)||"Error deleting queues","danger","modalsToast")}finally{r.value.deletingQueues=!1}},n=p({name:null,startbot:"",file:null,data:"",type:0,assistant_name:null,assistant_avatar:null});const J=p(null);let Ne=p(null),X=p(!1);const ae=()=>{X.value=!0},oe=()=>{J.value.value&&(J.value.value=null),X.value=!1,n.value={name:null,startbot:"",file:null,data:"",type:0,assistant_name:null,assistant_avatar:null}},Re=async()=>{r.value.creatingProcess=!0;const a=await Me();a.result?(y("Process added successfully","success","modalsToast"),oe(),await U()):y((a==null?void 0:a.message)||"Error adding process","danger","modalsToast"),r.value.creatingProcess=!1},Me=async()=>{var a;try{const e=new FormData;return e.append("name",n.value.name),e.append("startbot",n.value.startbot),e.append("file",n.value.file),e.append("project",h.value.token),e.append("data",n.value.data),e.append("type",n.value.type),n.value.type===1&&e.append("assistant_name",n.value.assistant_name),await M.post("/process/new",e),{result:!0}}catch(e){return{result:!1,message:(a=e==null?void 0:e.data)==null?void 0:a.message}}},Ue=D(()=>n.value.type===1?Y.value:!0),Be=D(()=>le.value&&ne.value&&Ue.value),le=D(()=>{var a;return((a=n.value.name)==null?void 0:a.trim().length)>2&&ge.test(n.value.name)}),Y=D(()=>{var a;return((a=n.value.assistant_name)==null?void 0:a.trim().length)>2&&ge.test(n.value.assistant_name)});let ne=D(()=>n.value.file?n.value.startbot.trim()!=="":!0);const Le=a=>{st(()=>{n.value.file=a.target.files[0]})},Qe=p(null),K=p(!1),L=p(""),$e=a=>{v.value=a,K.value=!0},re=()=>{K.value=!1,L.value="",v.value={instances:[]}},ie=async()=>{r.value.deletingProcess=!0;let a=await qe();a.result?(y("Process deleted successfully","success","modalsToast"),re(),U()):y(a.message||"Error deleting process","danger","modalsToast"),r.value.deletingProcess=!1},qe=async()=>{var a;try{return await M.post("/process/delete",{id:v.value.token}),{result:!0}}catch(e){return{result:!1,message:(a=e==null?void 0:e.data)==null?void 0:a.message}}},Ie=a=>{if(a.last_ping===null)return"NOT CONNECTED";const e=new Date(a.last_ping);return new Date().getTime()-e.getTime()>2e4?"STOPPED":"CONNECTED"},Fe=a=>{if(a.last_ping===null)return"bg-dark";const e=new Date(a.last_ping);return new Date().getTime()-e.getTime()>2e4?"bg-danger":"bg-green"},de=p(null);Ze(()=>n.value.assistant_name,a=>{Y.value&&(clearTimeout(de.value),de.value=setTimeout(()=>{Oe()},500))});const Oe=async()=>{var a;r.value.settingAvatar=!0;try{n.value.assistant_avatar=`process/preview_avatar?assistant_name=${n.value.assistant_name}`}catch(e){y("toastId",((a=e==null?void 0:e.data)==null?void 0:a.message)||"Error updating avatar","danger")}finally{r.value.settingAvatar=!1}};return(a,e)=>{var me;const l=et("font-awesome-icon"),_=ze,Z=Ge,ce=We,je=He,ue=Je;return i(),P(ve,null,[d(_e,{text:t(j),variant:t(z),id:"modalsToast"},null,8,["text","variant"]),d(_e,{text:t(j),variant:t(z),id:"mainToast"},null,8,["text","variant"]),s("div",ct,[d(I,{ref_key:"showDeleteQueuesConfirmationModalRef",ref:Se,show:t(H),header:{title:"Delete queues",theme:"red"},type:"delete",modalClass:"modal-md",onCancel:e[1]||(e[1]=()=>t(se)())},{afterFooter:u(()=>[s("button",{class:"btn btnErrorBorderLight",onClick:e[0]||(e[0]=o=>t(Ee)()),disabled:t(r).deletingQueues},[t(r).deletingQueues?(i(),g(l,{key:0,icon:["fas","spinner"],spin:""})):A("",!0),e[21]||(e[21]=c(" Delete "))],8,ut)]),default:u(()=>[e[22]||(e[22]=s("h3",{class:"text-break"},"Are you sure you want to clear the queues?",-1))]),_:1},8,["show"]),d(I,{ref:"modalProcessDetailsRef",show:t(G),header:{title:"Process details",theme:"dark"},type:"confirmation",modalClass:"modal-lg",onCancel:e[4]||(e[4]=()=>t(De)())},{default:u(()=>{var o,b,k,x,Q,pe,fe;return[s("h4",null,[c(f(t(v).name)+" ",1),s("span",mt,"("+f(((o=t(v))==null?void 0:o.type)===1?"Assistant":"Robot")+")",1)]),s("div",pt,[s("div",ft,[e[23]||(e[23]=s("label",{class:"form-label"}," Description ",-1)),s("div",vt,f(t(v).data),1)])]),w(s("div",gt,[s("div",_t,[e[24]||(e[24]=s("h5",null,"Assistant name:",-1)),s("h6",null,f(((b=t(v))==null?void 0:b.assistant_name)||"N/A"),1)]),s("div",bt,[s("img",{src:(k=t(v))==null?void 0:k.assistant_avatar,alt:""},null,8,yt)])],512),[[V,((x=t(v))==null?void 0:x.type)===1]]),e[26]||(e[26]=s("div",{class:"row"},[s("div",{class:"col"},[s("h5",null," Instances ")])],-1)),s("div",wt,[(i(!0),P(ve,null,tt(t(v).instances,m=>(i(),P("div",kt,[s("div",ht,[s("div",Pt,[s("p",xt,[c(f(m.name)+" ",1),["windows","win"].includes(m.os)?(i(),g(l,{key:0,icon:"fa-brands fa-windows"})):A("",!0),m.os==="linux"?(i(),g(l,{key:1,icon:"fa-brands fa-linux"})):A("",!0),m.os==="darwin"?(i(),g(l,{key:2,icon:"fa-brands fa-apple"})):A("",!0),m.os==="docker"?(i(),g(l,{key:3,icon:"fa-brands fa-docker"})):A("",!0)]),s("small",null,[c(f(["windows","win"].includes(m.os)?"WINDOWS":m.os==="linux"?"LINUX":m.os==="darwin"?"MAC":"DOCKER")+" ",1),s("span",{class:E(["badge text-white",Fe(m)])},f(Ie(m)),3)])])])]))),256))]),s("div",Ct,[s("div",Dt,[s("div",Tt,[e[25]||(e[25]=s("div",{class:"card-header"},[s("h5",null,"Cron Task Jobs:")],-1)),s("div",At,[d(_,{items:(fe=(pe=(Q=t(v))==null?void 0:Q.last_robot)==null?void 0:pe.cron)==null?void 0:fe.cron,fields:[{key:"date",label:"Initial date"},{key:"time",label:"Time"},{key:"repeat",label:"Repeat"}],"per-page":t(T),"current-page":t($)},{"cell(date)":u(m=>[c(f(m.value),1)]),"cell(time)":u(m=>[c(f(m.value),1)]),"cell(repeat)":u(m=>[s("span",St,f(m.value!=null?m.value:t(dt)(m.item)),1)]),_:1},8,["items","per-page","current-page"]),w(d(Z,{class:"float-end mt-2",modelValue:t(T),"onUpdate:modelValue":e[2]||(e[2]=m=>N(T)?T.value=m:null),style:{width:"65px"},options:[5,10,15,20]},null,8,["modelValue"]),[[V,t(W)>t(T)]]),w(d(ce,{class:"mt-2",modelValue:t($),"onUpdate:modelValue":e[3]||(e[3]=m=>N($)?$.value=m:null),"per-page":t(T),"total-rows":t(W),"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last"},null,8,["modelValue","per-page","total-rows"]),[[V,t(W)>t(T)]])])])])])]}),_:1},8,["show"]),d(I,{ref_key:"addProcessRef",ref:Ne,show:t(X),header:{title:"Add process",theme:"green"},type:"confirmation",modalClass:"modal-lg",onCancel:e[12]||(e[12]=()=>oe())},{afterFooter:u(()=>[s("button",{onClick:e[11]||(e[11]=()=>Re()),class:"btn btnSuccessBorderLight",disabled:!t(Be)||t(r).creatingProcess},[t(r).creatingProcess?(i(),g(l,{key:0,icon:["fas","spinner"],spin:""})):A("",!0),e[34]||(e[34]=c(" Create "))],8,Yt)]),default:u(()=>[s("div",Vt,[s("div",Et,[s("div",Nt,[s("label",Rt,[e[27]||(e[27]=c(" Process name ")),d(l,{icon:["fas","circle-question"],title:"Process name must be at least 3 characters long, no special characters. Only one whitespace between characters."})]),w(s("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>t(n).name=o),type:"text",class:E(["form-control",{"is-invalid":t(n).name!==null&&!t(le)}])},null,2),[[R,t(n).name]])])]),s("div",Mt,[s("div",Ut,[e[28]||(e[28]=s("label",{class:"form-label"}," Start robot name ",-1)),w(s("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>t(n).startbot=o),type:"text",class:E(["form-control",{"is-invalid":!t(ne)}])},null,2),[[R,t(n).startbot]])])])]),s("div",Bt,[s("div",Lt,[s("div",Qt,[s("div",$t,[s("div",qt,[e[29]||(e[29]=s("label",{class:"form-label"}," Upload Robot ",-1)),s("input",{ref_key:"fileInput",ref:J,onChange:e[7]||(e[7]=o=>Le(o)),type:"file",accept:".db,.zip",class:"form-control",placeholder:"Upload DB"},null,544)])])]),s("div",It,[s("div",Ft,[d(je,{id:"typeRobot",modelValue:t(n).type,"onUpdate:modelValue":e[8]||(e[8]=o=>t(n).type=o),value:1,"unchecked-value":0},{default:u(()=>[s("strong",null,[e[30]||(e[30]=c(" Is Assistant? ")),d(l,{icon:["fas","circle-question"],title:"An assistant is a kind of robot that notifies the user when a task is started in the instance."})])]),_:1},8,["modelValue"])]),s("div",Ot,[s("div",null,[s("div",jt,[s("label",zt,[e[31]||(e[31]=c(" Assistant name ")),d(l,{icon:["fas","circle-question"],title:"Assistant name must be at least 3 characters long, no special characters. Only one whitespace between characters."})]),w(s("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>t(n).assistant_name=o),disabled:t(n).type!==1,type:"text",class:E(["form-control",{"is-invalid":t(n).assistant_name!==null&&!t(Y)&&t(n).type===1}])},null,10,Gt),[[R,t(n).assistant_name]])])])]),s("div",Wt,[e[32]||(e[32]=s("label",{class:"form-label d-block"},"Assistant Avatar",-1)),w(s("img",{src:`${t(we)}/${t(n).assistant_avatar}`,alt:"avatar",class:E({"opacity-50":t(n).type!==1})},null,10,Ht),[[V,t(n).assistant_avatar]]),w(d(l,{icon:"fa-solid fa-user-astronaut",class:E(["fa-6x",{"text-secondary":t(n).type!==1,"text-primary":t(n).type===1}])},null,8,["class"]),[[V,!t(r).settingAvatar&&!t(n).assistant_avatar]]),w(d(l,{icon:"fa-solid fa-spinner",spin:"",class:"fa-6x text-secondary"},null,512),[[V,t(r).settingAvatar]])])])]),s("div",Jt,[s("div",Xt,[e[33]||(e[33]=s("label",{class:"form-label"}," Process description ",-1)),w(s("textarea",{"onUpdate:modelValue":e[10]||(e[10]=o=>t(n).data=o),class:"form-control",rows:"5"},null,512),[[R,t(n).data]])])])])]),_:1},8,["show"]),d(I,{ref_key:"showDeleteProcessConfirmationModalRef",ref:Qe,show:t(K),header:{title:"Delete process",theme:"red"},type:"delete",modalClass:"modal-lg",onCancel:e[15]||(e[15]=()=>re()),onConfirm:e[16]||(e[16]=()=>ie())},{beforeFooter:u(()=>[w(s("input",{class:"form-control w-50",type:"text",placeholder:"Type the process name to confirm deletion","onUpdate:modelValue":e[13]||(e[13]=o=>N(L)?L.value=o:null)},null,512),[[R,t(L)]]),s("button",{class:"btn btnErrorBorderLight",onClick:e[14]||(e[14]=o=>ie()),disabled:t(L)!==t(v).name||t(r).deletingProcess},[t(r).deletingProcess?(i(),g(l,{key:0,icon:["fas","spinner"],spin:""})):A("",!0),e[37]||(e[37]=c(" Confirm deletion "))],8,Zt)]),default:u(()=>{var o;return[s("h3",Kt,[e[35]||(e[35]=c(" Are you sure you want to delete the process ")),s("b",null,f((o=t(v))==null?void 0:o.name),1),e[36]||(e[36]=c("? "))]),e[38]||(e[38]=s("h4",null," This action cannot be undone and will delete all data related to the process. ",-1))]}),_:1},8,["show"]),s("div",es,[s("div",ts,[t(r).loadingProcesses?(i(),g(l,{key:0,icon:["fas","spinner"],spin:""})):(i(),g(ot,{key:1,links:O}))])]),s("div",ss,[s("button",{onClick:ae,disabled:t(h).process.length>=t(F).user.entity.options.max_processes||t(r).loadingProcesses,class:"btn btn-lg d-block text-left btn-green text-uppercase"},[d(l,{icon:"fa-solid fa-circle-plus"}),e[39]||(e[39]=c(" Add process "))],8,as)]),s("div",os,[s("div",ls,[s("div",ns,[d(lt,{title:(((me=t(h))==null?void 0:me.name)||"")+" processes"},{"create-button":u(()=>[t(h).process.length>=t(F).user.entity.options.max_processes||t(r).loadingProcesses?(i(),P("small",rs," Add process ")):(i(),P("span",{key:1,onClick:ae,class:"pointer ms-2 btn btn-sm btnSuccessBorderLight"}," Add process "))]),"right-actions":u(()=>{var o,b,k;return[s("div",is,[s("b",null,[e[40]||(e[40]=c(" Total ")),t(r).loadingProcesses?(i(),g(l,{key:0,icon:["fas","spinner"],spin:""})):(i(),P("span",ds,f(t(h).process.length),1)),c(" / "+f(((k=(b=(o=t(F).user)==null?void 0:o.entity)==null?void 0:b.options)==null?void 0:k.max_processes)||0),1)])])]}),_:1},8,["title"]),s("div",cs,[s("div",us,[w(s("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>N(B)?B.value=o:B=o),class:"form-control",placeholder:"Search process",type:"text",readonly:t(r).loadingProcesses},null,8,ms),[[R,t(B)]])]),t(r).loadingProcesses?(i(),P("div",ps,[d(l,{class:"mt-5",icon:["fas","spinner"],size:"2xl",spin:""})])):(i(),P("div",fs,[d(_,{items:t(ee),fields:[{key:"name",label:"Name"},{key:"type",label:"Type"},{key:"data",label:"Description"},{key:"robots_count",label:"Has robot",thStyle:"text-align: center"},{key:"cron_task",label:"Cron task",thStyle:"text-align: center"},{key:"instances_count",label:"Instances",thStyle:"text-align: center"},{key:"queues_count",label:"Queues",thStyle:"text-align: center"},{key:"status",label:"Status"},{key:"actions",label:"",thStyle:"width: 1px"}],"per-page":t(C),"current-page":t(S)},{"cell(name)":u(o=>{var b;return[d(ue,{class:"text-decoration-none",href:`/processes/${(b=o.item)==null?void 0:b.token}`},{default:u(()=>[c(f(o.value),1)]),_:2},1032,["href"])]}),"cell(type)":u(o=>[c(f(o.item.type==1?"Assistant":"Robot"),1)]),"cell(data)":u(o=>[s("span",vs,f(o.value),1)]),"cell(robots_count)":u(o=>[s("div",gs,[o.value?(i(),g(l,{key:0,style:{color:"green"},class:"text-center",icon:["fas","check"]})):(i(),g(l,{key:1,style:{color:"red"},icon:["fas","xmark"]}))])]),"cell(cron_task)":u(o=>{var b,k,x,Q;return[s("div",_s,f(((Q=(x=(k=(b=o.item)==null?void 0:b.last_robot)==null?void 0:k.cron)==null?void 0:x.cron)==null?void 0:Q.length)||0),1)]}),"cell(instances_count)":u(o=>[s("div",bs,f(o.value),1)]),"cell(queues_count)":u(o=>[s("div",ys,f(o.value),1)]),"cell(status)":u(o=>{var b;return[c(f((b=o.item)!=null&&b.private?"Private":"Public"),1)]}),"cell(actions)":u(o=>{var b,k;return[s("a",ws,[d(l,{icon:["fas","ellipsis"]})]),s("ul",ks,[s("li",hs,[(b=o.item)!=null&&b.private?(i(),P("a",{key:1,onClick:()=>t(te)(o.item),class:"dropdown-item btn btn-dark btn-sm"},[t(r).changingProcessStatus===o.item.token?(i(),g(l,{key:0,icon:["fas","spinner"],spin:""})):(i(),g(l,{key:1,icon:["fas","unlock"],class:"me-2"})),e[42]||(e[42]=c(" Unlock process "))],8,xs)):(i(),P("a",{key:0,onClick:()=>t(te)(o.item),class:"dropdown-item btn btn-dark btn-sm"},[t(r).changingProcessStatus===o.item.token?(i(),g(l,{key:0,icon:["fas","spinner"],spin:""})):(i(),g(l,{key:1,icon:["fas","lock"],class:"me-2"})),e[41]||(e[41]=c(" Lock process "))],8,Ps)),s("a",{onClick:x=>t(Ce)(o.item),class:"dropdown-item btn btn-dark btn-sm"},[d(l,{icon:"fa-solid fa-circle-info",class:"me-2"}),e[43]||(e[43]=c(" Details "))],8,Cs),d(ue,{href:`/processes/${o.item.token}`,class:"dropdown-item btn btn-info"},{default:u(()=>[d(l,{icon:["fas","eye"],class:"me-2"}),e[44]||(e[44]=c(" View "))]),_:2},1032,["href"]),s("button",{onClick:x=>t(Te)(o.item),disabled:!o.item.robots_count||!o.item.instances_count||t(q)===o.item.token,class:"dropdown-item btn btn-none"},[t(q)===o.item.token?(i(),g(l,{key:0,icon:["fas","spinner"],spin:""})):(i(),g(l,{key:1,icon:["fas","play"],class:"me-2"})),e[45]||(e[45]=c(" Run "))],8,Ds),s("button",{onClick:x=>t(Ve)(o.item),class:"dropdown-item btn btn-red text-nowrap text-theme",disabled:((k=o.item)==null?void 0:k.queues_count)==0},[d(l,{icon:"fa fa-trash",class:"me-2"}),e[46]||(e[46]=c(" Delete queues "))],8,Ts),e[48]||(e[48]=s("hr",{class:"mt-1 mb-1"},null,-1)),s("a",{onClick:x=>$e(o.item),class:"dropdown-item btn btn-red text-nowrap text-theme"},[d(l,{icon:"fa-solid fa-circle-xmark",class:"me-2"}),e[47]||(e[47]=c(" Delete process "))],8,As)])])]}),_:1},8,["items","per-page","current-page"]),d(Z,{class:"float-end mt-2",modelValue:t(C),"onUpdate:modelValue":e[18]||(e[18]=o=>N(C)?C.value=o:C=o),style:{width:"65px"},options:[5,10,15,20],onChange:e[19]||(e[19]=o=>t(it)(be,t(C)))},null,8,["modelValue"]),d(ce,{class:"mt-2",modelValue:t(S),"onUpdate:modelValue":e[20]||(e[20]=o=>N(S)?S.value=o:S=o),"per-page":t(C),"total-rows":t(Ae),"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last"},null,8,["modelValue","per-page","total-rows"])]))])])])])])],64)}}});export{zs as default};
